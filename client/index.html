<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Homework 3 - Data Visualization</title>
    <link rel="stylesheet" href="style/main.css" />
      <link rel="stylesheet" href="style/main.scss">
  </head>
  <body>
    <div id="container-fluid" style=" margin-bottom: 50px;">
            <nav id="navbar-example2" class="navbar navbar-dark bg-dark bg-light">
            <a class="navbar-brand" href="#">Data Visualization - Homework 3</a>
            </nav>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h3>Datamap Visualization of US State Wise Flight Availability</h3>
                <p class="lead">Name: Swastik Roy</p>
                <p class="lead">10/14/2018 | Data Visualization</p>
            </div>
        </div>
        <div class="row" id="vue-app">
            <div class="col-xs-6">
                <h5 class="text-center">Map Overview</h5>
                <div class="">
                    <div id="toggle-options" style="font-size: 0.8em;">
                            <div class="radio">
                                <label v-on:click="selectedMap = 1"><input type="radio" name="optradio" checked>Flight Availability from each states - Flow Map</label>
                            </div>
                            <div class="radio">
                                <label v-on:click="selectedMap = 2"><input type="radio" name="optradio">Flight Availability from each states - Chloropleth</label>
                            </div>
                            <div class="radio disabled">
                                <label v-on:click="selectedMap = 3"><input type="radio" name="optradio">Per Capita Flight Availability from each states- Chloropleth</label>
                            </div>
                    </div>
                    <div v-bind:class="{ hidden: (selectedMap != 1) }">
                        <div id="mapid"></div>
                    </div>
                    <div v-bind:class="{ hidden: (selectedMap != 2) }">
                        <div id="mapid2"></div>
                    </div>
                    <div v-bind:class="{ hidden: (selectedMap != 3) }">
                        <div id="mapid3"></div>
                    </div>
                    <!-- <div id="chart" style="width:540px;">
                        <svg height="1000" width="600">
                        </svg>
                    </div> -->
                </div>
            </div>
            <div class="col-xs-6">
                <h5 class="text-center">Detail View</h5>
                <h6 v-bind:class="{ hidden: (!noneSelected) }">No US state selected.</h6>
                <div id="chart-detail" class="text-center"  v-bind:class="{ hidden: (noneSelected) }">
                    <h6 style="margin-bottom: -30px;">Destinations from the {{selectedState}} state:</h6>
                    <div id="pie1"></div>
                    <h6 style="margin-top: -60px;">Origin Cities in the {{selectedState}} state:</h6>
                    <div id="pie2" style="margin-top: -80px;"></div>
                </div>
            </div>
        </div>
        <div class="row" id="writeUp">
                <hr />
                <div class="col-xs-12">
                        <ul>
                            <li>The detail view shows flight availability from 1st January 2015, in United States.
                            </li>
                            <li>
                                If you click on a state/province (inside US), the detail view will be populated with number of destinations possible to go from that state,
                                and number of origin cities from where you can fly. The size of a slice in pie charts denote the relative amount
                                of flights from a place.

                                If you click the selected state again, it will show all flights for all states, and detail view will hide. (given first toggle option is selected).
                            </li>
                            <li>
                                If you hover on a slice in detail view, it will highlight the name of that place.
                            </li>
                        
                            <h6>Implementations for extra credit:</h6>
                            <li>
                                I have implemented work for both extra credit task.
                            </li>
                            <li>
                                <strong>For first extra credit task</strong>, the first toggle option shows flow map, and the last two options are Chloropleths. Thus,
                                two ways to show spatial attribute (flight availability for each US state). The user can interactively switch back and forth.
                            </li>
                            <li>
                                <strong>For second extra credit task</strong>, the second toggle option shows Chloropleth for raw value of flight count, and the third option shows Chloropleth for per capita value of flight count. 
                                Thus, the user can toggle between raw value and per capita value (flight availability).
                            </li>

                            <li><strong>Dataset Sources:</strong> <br />
                                <ol>
                                    <li>Flight Delay dataset: <a href="https://www.kaggle.com/usdot/flight-delays/version/1" target="_blank">Dataset Link</a>
                                        <br />
                                        As the dataset was huge, around 500Mb, I took a very small subset for US flights on date 1st January, 2015. The reduced
                                        dataset is only 134kb
                                    </li>
                                    <li>
                                        US States Population Density: <a target="_blank" href="https://leafletjs.com/examples/choropleth/us-states.js">Dataset Link</a>
                                    </li>
                                    <li>The transformed and pruned data set files are located in <strong>'data' directory</strong> of the project.</li>
                                    <li>As the dataset of flights was time varying, i.e., the flights depend on each day.
                                        So, I visualized for one single day, which can be easily extended to multiple days, or with time filter
                                        for different days, if required.
                                    </li>
                                </ol>
                            </li>
                        </ul>
                </div>
            </div>
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                        <br /><br />
                    <p class="mb-0">Â© 2018 Copyright |&nbsp; Swastik Roy</p>
                    <br />
                </div>
            </div>
        </div>


    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin=""/>

     <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
 integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
 crossorigin=""></script>
    <!-- Load animation tweening lib requirement for CanvasFlowMapLayer -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.6.0/Tween.min.js"></script>
    <!-- then load CanvasFlowMapLayer -->
    <script src="lib/CanvasFlowmapLayer.js"></script>
    <script src="data/us-states.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script> -->
    <script src="dist/js/app.js"></script>
  </body>
</html>