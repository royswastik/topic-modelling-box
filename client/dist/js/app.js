"use strict";

function loadJquery() {
  $(document).ready(function () {
    $("#toggle-sidebar").click(function () {
      $('.ui.sidebar').sidebar('toggle');
    });
  });
}
"use strict";

function loadD3() {
  console.log("hello");
  d3.json("data/document_topic_probability.json", function (x) {
    window.document_topic_probability = x;
    d3.json("data/topic_word_distribution_in_corpora.json", function (y) {
      window.topic_word_distribution_in_corpora = y;
      d3.json("data/topic_word_probability_in_topic.json", function (z) {
        window.topic_word_probability = z;
        generateTopicVectors(); //Loads vectors in window.topicVectors

        loadVisualizations();
      });
    });
  });
}

function loadVisualizations() {} // pass integer of topic_number


function initPage1(topic_number) {
  var topic_words = window.document_topic_probability;
  var corpus_words = window.topic_word_distribution_in_corpora;
  var data = window.topic_word_probability;
  var topic_distribution_in_corpa = window.topic_word_distribution_in_corpora;
  var final_data = [];
  var data = data[topic_number][0];

  for (var i = 0; i < data.length; i++) {
    var temp = {};
    var key = Object.keys(data[i])[0];
    var val = data[i][Object.keys(data[i])[0]];
    var overall = topic_distribution_in_corpa[key];
    temp.State = key;
    temp.topic_frequency = val;
    temp.overall = overall;
    temp.total = temp.topic_frequency + temp.overall;
    final_data.push(temp);
  }

  var data = final_data;
  var svg = d3.select("#stacked-bar"),
      margin = {
    top: 20,
    right: 20,
    bottom: 30,
    left: 40
  },
      width = +svg.attr("width") - margin.left - margin.right,
      height = +svg.attr("height") - margin.top - margin.bottom,
      g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  var y = d3.scaleBand() // x = d3.scaleBand()	
  .rangeRound([0, height]) // .rangeRound([0, width])
  .paddingInner(0.05).align(0.1);
  var x = d3.scaleLinear() // y = d3.scaleLinear()
  .rangeRound([0, width]); // .rangeRound([height, 0]);

  var z = d3.scaleOrdinal().range(["#98abc5", "#8a89a6"]);
  var keys = ["topic_frequency", "overall"];
  data.sort(function (a, b) {
    return b.total - a.total;
  });
  y.domain(data.map(function (d) {
    return d.State;
  })); // x.domain...

  x.domain([0, d3.max(data, function (d) {
    return d.total;
  })]).nice(); // y.domain...

  z.domain(keys);
  g.append("g").selectAll("g").data(d3.stack().keys(keys)(data)).enter().append("g").attr("fill", function (d) {
    return z(d.key);
  }).selectAll("rect").data(function (d) {
    return d;
  }).enter().append("rect").attr("y", function (d) {
    return y(d.data.State);
  }) //.attr("x", function(d) { return x(d.data.State); })
  .attr("x", function (d) {
    return x(d[0]);
  }) //.attr("y", function(d) { return y(d[1]); })	
  .attr("width", function (d) {
    return x(d[1]) - x(d[0]);
  }) //.attr("height", function(d) { return y(d[0]) - y(d[1]); })
  .attr("height", y.bandwidth()); //.attr("width", x.bandwidth());	

  g.append("g").attr("class", "axis").attr("transform", "translate(0,0)") //  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisLeft(y)); //   .call(d3.axisBottom(x));

  g.append("g").attr("class", "axis").attr("transform", "translate(0," + height + ")") // New line
  .call(d3.axisBottom(x).ticks(null, "s")) //  .call(d3.axisLeft(y).ticks(null, "s"))
  .append("text").attr("y", 2) //     .attr("y", 2)
  .attr("x", x(x.ticks().pop()) + 0.5) //     .attr("y", y(y.ticks().pop()) + 0.5)
  .attr("dy", "0.32em") //     .attr("dy", "0.32em")
  .attr("fill", "#000").attr("font-weight", "bold").attr("text-anchor", "start").text("Population").attr("transform", "translate(" + -width + ",-10)");
  var legend = g.append("g").attr("font-family", "sans-serif").attr("font-size", 10).attr("text-anchor", "end").selectAll("g").data(keys.slice().reverse()).enter().append("g") //.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });
  .attr("transform", function (d, i) {
    return "translate(-50," + (300 + i * 20) + ")";
  });
  legend.append("rect").attr("x", width - 19).attr("width", 19).attr("height", 19).attr("fill", z);
  legend.append("text").attr("x", width - 24).attr("y", 9.5).attr("dy", "0.32em").text(function (d) {
    return d;
  });
}

function initPage2() {}

function initPage3() {
  loadParallelCoordinate();
}
"use strict";

function get2DVectors(vectors, successCallback) {
  var request = $.ajax({
    url: "/get2DVectors",
    method: "POST",
    data: vectors
  });
  request.done(function (response) {
    successCallback(response);
  });
  request.fail(function (jqXHR, textStatus) {
    alert("Request failed: " + textStatus);
  });
}
"use strict";

function loadParallelCoordinate() {
  var margin = {
    top: 30,
    right: 10,
    bottom: 10,
    left: 10
  },
      width = 960 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;
  var x = d3.scale.ordinal().rangePoints([0, width], 1),
      y = {},
      dragging = {};
  var line = d3.svg.line(),
      axis = d3.svg.axis().orient("left"),
      background,
      foreground;
  var svg = d3.select("body").append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  d3.csv("cars.csv", function (error, cars) {
    // Extract the list of dimensions and create a scale for each.
    x.domain(dimensions = d3.keys(cars[0]).filter(function (d) {
      return d != "name" && (y[d] = d3.scale.linear().domain(d3.extent(cars, function (p) {
        return +p[d];
      })).range([height, 0]));
    })); // Add grey background lines for context.

    background = svg.append("g").attr("class", "background").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add blue foreground lines for focus.

    foreground = svg.append("g").attr("class", "foreground").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add a group element for each dimension.

    var g = svg.selectAll(".dimension").data(dimensions).enter().append("g").attr("class", "dimension").attr("transform", function (d) {
      return "translate(" + x(d) + ")";
    }).call(d3.behavior.drag().origin(function (d) {
      return {
        x: x(d)
      };
    }).on("dragstart", function (d) {
      dragging[d] = x(d);
      background.attr("visibility", "hidden");
    }).on("drag", function (d) {
      dragging[d] = Math.min(width, Math.max(0, d3.event.x));
      foreground.attr("d", path);
      dimensions.sort(function (a, b) {
        return position(a) - position(b);
      });
      x.domain(dimensions);
      g.attr("transform", function (d) {
        return "translate(" + position(d) + ")";
      });
    }).on("dragend", function (d) {
      delete dragging[d];
      transition(d3.select(this)).attr("transform", "translate(" + x(d) + ")");
      transition(foreground).attr("d", path);
      background.attr("d", path).transition().delay(500).duration(0).attr("visibility", null);
    })); // Add an axis and title.

    g.append("g").attr("class", "axis").each(function (d) {
      d3.select(this).call(axis.scale(y[d]));
    }).append("text").style("text-anchor", "middle").attr("y", -9).text(function (d) {
      return d;
    }); // Add and store a brush for each axis.

    g.append("g").attr("class", "brush").each(function (d) {
      d3.select(this).call(y[d].brush = d3.svg.brush().y(y[d]).on("brushstart", brushstart).on("brush", brush));
    }).selectAll("rect").attr("x", -8).attr("width", 16);
  });

  function position(d) {
    var v = dragging[d];
    return v == null ? x(d) : v;
  }

  function transition(g) {
    return g.transition().duration(500);
  } // Returns the path for a given data point.


  function path(d) {
    return line(dimensions.map(function (p) {
      return [position(p), y[p](d[p])];
    }));
  }

  function brushstart() {
    d3.event.sourceEvent.stopPropagation();
  } // Handles a brush event, toggling the display of foreground lines.


  function brush() {
    var actives = dimensions.filter(function (p) {
      return !y[p].brush.empty();
    }),
        extents = actives.map(function (p) {
      return y[p].brush.extent();
    });
    foreground.style("display", function (d) {
      return actives.every(function (p, i) {
        return extents[i][0] <= d[p] && d[p] <= extents[i][1];
      }) ? null : "none";
    });
  }
}
"use strict";

function generateTopicVectors() {
  window.topicVectors = {};

  if (window.topic_word_probability_in_topic) {
    for (var x in window.topic_word_probability_in_topic) {
      var vector = [];

      for (var y in window.topic_word_probability_in_topic[x]) {
        vector.push(window.topic_word_probability_in_topic[x][y]);
      }

      window.topicVectors[x] = vector;
    }
  }
}

function generateParallelCoordinateData() {
  var words = window.word_distribution_in_corpora.keys();
  var topic_word_threshold = 0.3;
  window.topic_word_probability = {};
}
"use strict";

window.vueApp = new Vue({
  el: '#vue-app',
  data: {
    message: 'Hello user!',
    noneSelected: true,
    selectedPage: 1,
    playerDetail: {
      name: "<Player Name>"
    },
    overviewFilters: {},
    selectedMap: 1
  },
  methods: {
    selectPage: function selectPage(x) {
      this.selectedPage = x;

      if (x == 1) {
        initPage1(0);
      }

      if (x == 2) {
        initPage2();
      }

      if (x == 3) {
        initPage3();
      }
    }
  },
  mounted: function mounted() {
    console.log("Mounted");
    loadD3();
    loadJquery();
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy5qcyIsIm1haW4uanMiLCJuZXR3b3JrLmpzIiwicGFyYWxsZWwtY29vcmRpbmF0ZS5qcyIsInV0aWwuanMiLCJ2dWVfbW9kZWwuanMiXSwibmFtZXMiOlsibG9hZEpxdWVyeSIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xpY2siLCJzaWRlYmFyIiwibG9hZEQzIiwiY29uc29sZSIsImxvZyIsImQzIiwianNvbiIsIngiLCJ3aW5kb3ciLCJkb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eSIsInkiLCJ0b3BpY193b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhIiwieiIsInRvcGljX3dvcmRfcHJvYmFiaWxpdHkiLCJnZW5lcmF0ZVRvcGljVmVjdG9ycyIsImxvYWRWaXN1YWxpemF0aW9ucyIsImluaXRQYWdlMSIsInRvcGljX251bWJlciIsInRvcGljX3dvcmRzIiwiY29ycHVzX3dvcmRzIiwiZGF0YSIsInRvcGljX2Rpc3RyaWJ1dGlvbl9pbl9jb3JwYSIsImZpbmFsX2RhdGEiLCJpIiwibGVuZ3RoIiwidGVtcCIsImtleSIsIk9iamVjdCIsImtleXMiLCJ2YWwiLCJvdmVyYWxsIiwiU3RhdGUiLCJ0b3BpY19mcmVxdWVuY3kiLCJ0b3RhbCIsInB1c2giLCJzdmciLCJzZWxlY3QiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ3aWR0aCIsImF0dHIiLCJoZWlnaHQiLCJnIiwiYXBwZW5kIiwic2NhbGVCYW5kIiwicmFuZ2VSb3VuZCIsInBhZGRpbmdJbm5lciIsImFsaWduIiwic2NhbGVMaW5lYXIiLCJzY2FsZU9yZGluYWwiLCJyYW5nZSIsInNvcnQiLCJhIiwiYiIsImRvbWFpbiIsIm1hcCIsImQiLCJtYXgiLCJuaWNlIiwic2VsZWN0QWxsIiwic3RhY2siLCJlbnRlciIsImJhbmR3aWR0aCIsImNhbGwiLCJheGlzTGVmdCIsImF4aXNCb3R0b20iLCJ0aWNrcyIsInBvcCIsInRleHQiLCJsZWdlbmQiLCJzbGljZSIsInJldmVyc2UiLCJpbml0UGFnZTIiLCJpbml0UGFnZTMiLCJsb2FkUGFyYWxsZWxDb29yZGluYXRlIiwiZ2V0MkRWZWN0b3JzIiwidmVjdG9ycyIsInN1Y2Nlc3NDYWxsYmFjayIsInJlcXVlc3QiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZG9uZSIsInJlc3BvbnNlIiwiZmFpbCIsImpxWEhSIiwidGV4dFN0YXR1cyIsImFsZXJ0Iiwic2NhbGUiLCJvcmRpbmFsIiwicmFuZ2VQb2ludHMiLCJkcmFnZ2luZyIsImxpbmUiLCJheGlzIiwib3JpZW50IiwiYmFja2dyb3VuZCIsImZvcmVncm91bmQiLCJjc3YiLCJlcnJvciIsImNhcnMiLCJkaW1lbnNpb25zIiwiZmlsdGVyIiwibGluZWFyIiwiZXh0ZW50IiwicCIsInBhdGgiLCJiZWhhdmlvciIsImRyYWciLCJvcmlnaW4iLCJvbiIsIk1hdGgiLCJtaW4iLCJldmVudCIsInBvc2l0aW9uIiwidHJhbnNpdGlvbiIsImRlbGF5IiwiZHVyYXRpb24iLCJlYWNoIiwic3R5bGUiLCJicnVzaCIsImJydXNoc3RhcnQiLCJ2Iiwic291cmNlRXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJhY3RpdmVzIiwiZW1wdHkiLCJleHRlbnRzIiwiZXZlcnkiLCJ0b3BpY1ZlY3RvcnMiLCJ0b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljIiwidmVjdG9yIiwiZ2VuZXJhdGVQYXJhbGxlbENvb3JkaW5hdGVEYXRhIiwid29yZHMiLCJ3b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhIiwidG9waWNfd29yZF90aHJlc2hvbGQiLCJ2dWVBcHAiLCJWdWUiLCJlbCIsIm1lc3NhZ2UiLCJub25lU2VsZWN0ZWQiLCJzZWxlY3RlZFBhZ2UiLCJwbGF5ZXJEZXRhaWwiLCJuYW1lIiwib3ZlcnZpZXdGaWx0ZXJzIiwic2VsZWN0ZWRNYXAiLCJtZXRob2RzIiwic2VsZWN0UGFnZSIsIm1vdW50ZWQiXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBU0EsVUFBVCxHQUFxQjtBQUNq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QVc7QUFDbkIsV0FBS3dJLFlBQUwsR0FBb0J4SSxDQUFwQjs7QUFDQSxVQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFXO0FBQ1BTLFFBQUFBLFNBQVMsQ0FBQyxDQUFELENBQVQ7QUFDSDs7QUFDRCxVQUFJVCxDQUFDLElBQUksQ0FBVCxFQUFXO0FBQ1BvRSxRQUFBQSxTQUFTO0FBQ1o7O0FBQ0QsVUFBSXBFLENBQUMsSUFBSSxDQUFULEVBQVc7QUFDUHFFLFFBQUFBLFNBQVM7QUFDWjtBQUNKO0FBWkksR0FaVztBQTBCcEIwRSxFQUFBQSxPQUFPLEVBQUUsbUJBQVU7QUFDZm5KLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVo7QUFDQUYsSUFBQUEsTUFBTTtBQUNOTixJQUFBQSxVQUFVO0FBQ2I7QUE5Qm1CLENBQVIsQ0FBaEIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbG9hZEpxdWVyeSgpe1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIjdG9nZ2xlLXNpZGViYXJcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJy51aS5zaWRlYmFyJylcbiAgICAgICAgICAgICAgICAuc2lkZWJhcigndG9nZ2xlJylcbiAgICAgICAgICAgIDtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH0pO1xufVxuIiwiZnVuY3Rpb24gbG9hZEQzKCl7XG4gICAgY29uc29sZS5sb2coXCJoZWxsb1wiKTtcbiAgICBkMy5qc29uKFwiZGF0YS9kb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eS5qc29uXCIsIGZ1bmN0aW9uKHgpe1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnRfdG9waWNfcHJvYmFiaWxpdHk9IHg7XG4gICAgICAgIGQzLmpzb24oXCJkYXRhL3RvcGljX3dvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmEuanNvblwiLCBmdW5jdGlvbih5KXtcbiAgICAgICAgICAgIHdpbmRvdy50b3BpY193b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhPSB5O1xuICAgICAgICAgICAgZDMuanNvbihcImRhdGEvdG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYy5qc29uXCIsIGZ1bmN0aW9uKHope1xuICAgICAgICAgICAgICAgIHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5ID0gejtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvcGljVmVjdG9ycygpOyAvL0xvYWRzIHZlY3RvcnMgaW4gd2luZG93LnRvcGljVmVjdG9yc1xuICAgICAgICAgICAgICAgIGxvYWRWaXN1YWxpemF0aW9ucygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkVmlzdWFsaXphdGlvbnMoKXtcblxufVxuXG4vLyBwYXNzIGludGVnZXIgb2YgdG9waWNfbnVtYmVyXG5mdW5jdGlvbiBpbml0UGFnZTEodG9waWNfbnVtYmVyKXtcblxuXHR2YXIgdG9waWNfd29yZHMgPSB3aW5kb3cuZG9jdW1lbnRfdG9waWNfcHJvYmFiaWxpdHk7XG5cdHZhciBjb3JwdXNfd29yZHMgPSB3aW5kb3cudG9waWNfd29yZF9kaXN0cmlidXRpb25faW5fY29ycG9yYTtcblx0dmFyIGRhdGEgPSB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eTtcblx0dmFyIHRvcGljX2Rpc3RyaWJ1dGlvbl9pbl9jb3JwYSA9IHdpbmRvdy50b3BpY193b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhO1xuXG5cdHZhciBmaW5hbF9kYXRhID1bXTtcblx0dmFyIGRhdGEgPSBkYXRhW3RvcGljX251bWJlcl1bMF07XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuXHRcdHZhciB0ZW1wID17fVxuXHRcdHZhciBrZXkgPSBPYmplY3Qua2V5cyhkYXRhW2ldKVswXTtcblx0XHR2YXIgdmFsID0gZGF0YVtpXVtPYmplY3Qua2V5cyhkYXRhW2ldKVswXV07XG5cdFx0dmFyIG92ZXJhbGwgPSB0b3BpY19kaXN0cmlidXRpb25faW5fY29ycGFba2V5XTtcblx0XHR0ZW1wLlN0YXRlID0ga2V5O1xuXHRcdHRlbXAudG9waWNfZnJlcXVlbmN5ID0gdmFsO1xuXHRcdHRlbXAub3ZlcmFsbCA9IG92ZXJhbGw7XG5cdFx0dGVtcC50b3RhbCA9IHRlbXAudG9waWNfZnJlcXVlbmN5ICsgdGVtcC5vdmVyYWxsO1xuXHRcdGZpbmFsX2RhdGEucHVzaCh0ZW1wKTtcblx0fVxuXHR2YXIgZGF0YSA9IGZpbmFsX2RhdGE7XG5cdHZhciBzdmcgPSBkMy5zZWxlY3QoXCIjc3RhY2tlZC1iYXJcIiksXG4gICAgbWFyZ2luID0ge3RvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogNDB9LFxuICAgIHdpZHRoID0gK3N2Zy5hdHRyKFwid2lkdGhcIikgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgICBoZWlnaHQgPSArc3ZnLmF0dHIoXCJoZWlnaHRcIikgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcbiAgICBnID0gc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG5cdHZhciB5ID0gZDMuc2NhbGVCYW5kKClcdFx0XHQvLyB4ID0gZDMuc2NhbGVCYW5kKClcdFxuXHQgICAgLnJhbmdlUm91bmQoWzAsIGhlaWdodF0pXHQvLyAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKVxuXHQgICAgLnBhZGRpbmdJbm5lcigwLjA1KVxuXHQgICAgLmFsaWduKDAuMSk7XG5cblx0dmFyIHggPSBkMy5zY2FsZUxpbmVhcigpXHRcdC8vIHkgPSBkMy5zY2FsZUxpbmVhcigpXG5cdCAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcdC8vIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKTtcblxuXHR2YXIgeiA9IGQzLnNjYWxlT3JkaW5hbCgpXG5cdCAgICAucmFuZ2UoW1wiIzk4YWJjNVwiLCBcIiM4YTg5YTZcIl0pO1xuXG5cdHZhciBrZXlzID0gW1widG9waWNfZnJlcXVlbmN5XCIsXCJvdmVyYWxsXCJdO1xuXHRkYXRhLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYi50b3RhbCAtIGEudG90YWw7IH0pO1xuICAgIHkuZG9tYWluKGRhdGEubWFwKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuU3RhdGU7IH0pKTtcdFx0XHRcdFx0Ly8geC5kb21haW4uLi5cbiAgICB4LmRvbWFpbihbMCwgZDMubWF4KGRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudG90YWw7IH0pXSkubmljZSgpO1x0Ly8geS5kb21haW4uLi5cbiAgICB6LmRvbWFpbihrZXlzKTtcbiAgICBnLmFwcGVuZChcImdcIilcbiAgICAuc2VsZWN0QWxsKFwiZ1wiKVxuICAgIC5kYXRhKGQzLnN0YWNrKCkua2V5cyhrZXlzKShkYXRhKSlcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geihkLmtleSk7IH0pXG4gICAgLnNlbGVjdEFsbChcInJlY3RcIilcbiAgICAuZGF0YShmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9KVxuICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGQuZGF0YS5TdGF0ZSk7IH0pXHQgICAgLy8uYXR0cihcInhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geChkLmRhdGEuU3RhdGUpOyB9KVxuICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZFswXSk7IH0pXHRcdFx0ICAgIC8vLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZFsxXSk7IH0pXHRcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geChkWzFdKSAtIHgoZFswXSk7IH0pXHQvLy5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHkoZFswXSkgLSB5KGRbMV0pOyB9KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgeS5iYW5kd2lkdGgoKSk7XHRcdFx0XHRcdFx0ICAgIC8vLmF0dHIoXCJ3aWR0aFwiLCB4LmJhbmR3aWR0aCgpKTtcdFxuXG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiYXhpc1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCwwKVwiKSBcdFx0XHRcdFx0XHQvLyAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpO1x0XHRcdFx0XHRcdFx0XHRcdC8vICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSk7XG5cbiAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiYXhpc1wiKVxuXHQgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIraGVpZ2h0K1wiKVwiKVx0XHRcdFx0Ly8gTmV3IGxpbmVcbiAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkudGlja3MobnVsbCwgXCJzXCIpKVx0XHRcdFx0XHQvLyAgLmNhbGwoZDMuYXhpc0xlZnQoeSkudGlja3MobnVsbCwgXCJzXCIpKVxuICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcInlcIiwgMilcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAgICAgLmF0dHIoXCJ5XCIsIDIpXG4gICAgICAuYXR0cihcInhcIiwgeCh4LnRpY2tzKCkucG9wKCkpICsgMC41KSBcdFx0XHRcdFx0XHQvLyAgICAgLmF0dHIoXCJ5XCIsIHkoeS50aWNrcygpLnBvcCgpKSArIDAuNSlcbiAgICAgIC5hdHRyKFwiZHlcIiwgXCIwLjMyZW1cIilcdFx0XHRcdFx0XHRcdFx0XHRcdC8vICAgICAuYXR0cihcImR5XCIsIFwiMC4zMmVtXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgXCIjMDAwXCIpXG4gICAgICAuYXR0cihcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpXG4gICAgICAudGV4dChcIlBvcHVsYXRpb25cIilcblx0ICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIisgKC13aWR0aCkgK1wiLC0xMClcIik7XG5cblx0dmFyIGxlZ2VuZCA9IGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJmb250LWZhbWlseVwiLCBcInNhbnMtc2VyaWZcIilcbiAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIDEwKVxuICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuICAgIC5zZWxlY3RBbGwoXCJnXCIpXG4gICAgLmRhdGEoa2V5cy5zbGljZSgpLnJldmVyc2UoKSlcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgLy8uYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBcInRyYW5zbGF0ZSgwLFwiICsgaSAqIDIwICsgXCIpXCI7IH0pO1xuXHQgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoLTUwLFwiICsgKDMwMCArIGkgKiAyMCkgKyBcIilcIjsgfSk7XG5cbiAgbGVnZW5kLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwieFwiLCB3aWR0aCAtIDE5KVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAxOSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIDE5KVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIHopO1xuXG4gIGxlZ2VuZC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcInhcIiwgd2lkdGggLSAyNClcbiAgICAgIC5hdHRyKFwieVwiLCA5LjUpXG4gICAgICAuYXR0cihcImR5XCIsIFwiMC4zMmVtXCIpXG4gICAgICAudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9KTtcblxuXG5cbn1cblxuZnVuY3Rpb24gaW5pdFBhZ2UyKCl7XG5cbn1cblxuZnVuY3Rpb24gaW5pdFBhZ2UzKCl7XG4gICAgbG9hZFBhcmFsbGVsQ29vcmRpbmF0ZSgpO1xufSIsImZ1bmN0aW9uIGdldDJEVmVjdG9ycyh2ZWN0b3JzLCBzdWNjZXNzQ2FsbGJhY2spe1xuICAgIHZhciByZXF1ZXN0ID0gJC5hamF4KHtcbiAgICAgICAgdXJsOiBcIi9nZXQyRFZlY3RvcnNcIixcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgZGF0YTogdmVjdG9yc1xuICAgICAgfSk7XG4gICAgICAgXG4gICAgICByZXF1ZXN0LmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgfSk7XG4gICAgICAgXG4gICAgICByZXF1ZXN0LmZhaWwoZnVuY3Rpb24oIGpxWEhSLCB0ZXh0U3RhdHVzICkge1xuICAgICAgICBhbGVydCggXCJSZXF1ZXN0IGZhaWxlZDogXCIgKyB0ZXh0U3RhdHVzICk7XG4gICAgICB9KTtcbn1cblxuIiwiZnVuY3Rpb24gbG9hZFBhcmFsbGVsQ29vcmRpbmF0ZSgpe1xuICAgIHZhciBtYXJnaW4gPSB7dG9wOiAzMCwgcmlnaHQ6IDEwLCBib3R0b206IDEwLCBsZWZ0OiAxMH0sXG4gICAgICAgIHdpZHRoID0gOTYwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgICAgIGhlaWdodCA9IDUwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgdmFyIHggPSBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2VQb2ludHMoWzAsIHdpZHRoXSwgMSksXG4gICAgICAgIHkgPSB7fSxcbiAgICAgICAgZHJhZ2dpbmcgPSB7fTtcblxuICAgIHZhciBsaW5lID0gZDMuc3ZnLmxpbmUoKSxcbiAgICAgICAgYXhpcyA9IGQzLnN2Zy5heGlzKCkub3JpZW50KFwibGVmdFwiKSxcbiAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgZm9yZWdyb3VuZDtcblxuICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcInN2Z1wiKVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICBkMy5jc3YoXCJjYXJzLmNzdlwiLCBmdW5jdGlvbihlcnJvciwgY2Fycykge1xuXG4gICAgLy8gRXh0cmFjdCB0aGUgbGlzdCBvZiBkaW1lbnNpb25zIGFuZCBjcmVhdGUgYSBzY2FsZSBmb3IgZWFjaC5cbiAgICB4LmRvbWFpbihkaW1lbnNpb25zID0gZDMua2V5cyhjYXJzWzBdKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gZCAhPSBcIm5hbWVcIiAmJiAoeVtkXSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAgICAgICAuZG9tYWluKGQzLmV4dGVudChjYXJzLCBmdW5jdGlvbihwKSB7IHJldHVybiArcFtkXTsgfSkpXG4gICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pKTtcbiAgICB9KSk7XG5cbiAgICAvLyBBZGQgZ3JleSBiYWNrZ3JvdW5kIGxpbmVzIGZvciBjb250ZXh0LlxuICAgIGJhY2tncm91bmQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFja2dyb3VuZFwiKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICAuZGF0YShjYXJzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKTtcblxuICAgIC8vIEFkZCBibHVlIGZvcmVncm91bmQgbGluZXMgZm9yIGZvY3VzLlxuICAgIGZvcmVncm91bmQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZm9yZWdyb3VuZFwiKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICAuZGF0YShjYXJzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKTtcblxuICAgIC8vIEFkZCBhIGdyb3VwIGVsZW1lbnQgZm9yIGVhY2ggZGltZW5zaW9uLlxuICAgIHZhciBnID0gc3ZnLnNlbGVjdEFsbChcIi5kaW1lbnNpb25cIilcbiAgICAgICAgLmRhdGEoZGltZW5zaW9ucylcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZGltZW5zaW9uXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeChkKSArIFwiKVwiOyB9KVxuICAgICAgICAuY2FsbChkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgICAgICAgIC5vcmlnaW4oZnVuY3Rpb24oZCkgeyByZXR1cm4ge3g6IHgoZCl9OyB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGRyYWdnaW5nW2RdID0geChkKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQuYXR0cihcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ1wiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBkcmFnZ2luZ1tkXSA9IE1hdGgubWluKHdpZHRoLCBNYXRoLm1heCgwLCBkMy5ldmVudC54KSk7XG4gICAgICAgICAgICBmb3JlZ3JvdW5kLmF0dHIoXCJkXCIsIHBhdGgpO1xuICAgICAgICAgICAgZGltZW5zaW9ucy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIHBvc2l0aW9uKGEpIC0gcG9zaXRpb24oYik7IH0pO1xuICAgICAgICAgICAgeC5kb21haW4oZGltZW5zaW9ucyk7XG4gICAgICAgICAgICBnLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBwb3NpdGlvbihkKSArIFwiKVwiOyB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImRyYWdlbmRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRyYWdnaW5nW2RdO1xuICAgICAgICAgICAgdHJhbnNpdGlvbihkMy5zZWxlY3QodGhpcykpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB4KGQpICsgXCIpXCIpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbihmb3JlZ3JvdW5kKS5hdHRyKFwiZFwiLCBwYXRoKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgcGF0aClcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgLmRlbGF5KDUwMClcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgICAgICAgICAuYXR0cihcInZpc2liaWxpdHlcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAvLyBBZGQgYW4gYXhpcyBhbmQgdGl0bGUuXG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzXCIpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHsgZDMuc2VsZWN0KHRoaXMpLmNhbGwoYXhpcy5zY2FsZSh5W2RdKSk7IH0pXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAtOSlcbiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSk7XG5cbiAgICAvLyBBZGQgYW5kIHN0b3JlIGEgYnJ1c2ggZm9yIGVhY2ggYXhpcy5cbiAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJydXNoXCIpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jYWxsKHlbZF0uYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKS55KHlbZF0pLm9uKFwiYnJ1c2hzdGFydFwiLCBicnVzaHN0YXJ0KS5vbihcImJydXNoXCIsIGJydXNoKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAtOClcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAxNik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvbihkKSB7XG4gICAgdmFyIHYgPSBkcmFnZ2luZ1tkXTtcbiAgICByZXR1cm4gdiA9PSBudWxsID8geChkKSA6IHY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbihnKSB7XG4gICAgcmV0dXJuIGcudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0aGUgcGF0aCBmb3IgYSBnaXZlbiBkYXRhIHBvaW50LlxuICAgIGZ1bmN0aW9uIHBhdGgoZCkge1xuICAgIHJldHVybiBsaW5lKGRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uKHApIHsgcmV0dXJuIFtwb3NpdGlvbihwKSwgeVtwXShkW3BdKV07IH0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBicnVzaHN0YXJ0KCkge1xuICAgIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZXMgYSBicnVzaCBldmVudCwgdG9nZ2xpbmcgdGhlIGRpc3BsYXkgb2YgZm9yZWdyb3VuZCBsaW5lcy5cbiAgICBmdW5jdGlvbiBicnVzaCgpIHtcbiAgICB2YXIgYWN0aXZlcyA9IGRpbWVuc2lvbnMuZmlsdGVyKGZ1bmN0aW9uKHApIHsgcmV0dXJuICF5W3BdLmJydXNoLmVtcHR5KCk7IH0pLFxuICAgICAgICBleHRlbnRzID0gYWN0aXZlcy5tYXAoZnVuY3Rpb24ocCkgeyByZXR1cm4geVtwXS5icnVzaC5leHRlbnQoKTsgfSk7XG4gICAgZm9yZWdyb3VuZC5zdHlsZShcImRpc3BsYXlcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlcy5ldmVyeShmdW5jdGlvbihwLCBpKSB7XG4gICAgICAgIHJldHVybiBleHRlbnRzW2ldWzBdIDw9IGRbcF0gJiYgZFtwXSA8PSBleHRlbnRzW2ldWzFdO1xuICAgICAgICB9KSA/IG51bGwgOiBcIm5vbmVcIjtcbiAgICB9KTtcbiAgICB9XG5cbn0iLCJmdW5jdGlvbiBnZW5lcmF0ZVRvcGljVmVjdG9ycygpe1xuICAgIHdpbmRvdy50b3BpY1ZlY3RvcnMgPSB7fTtcbiAgICBpZih3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYyl7XG4gICAgICAgIGZvcih2YXIgeCBpbiB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYyl7XG4gICAgICAgICAgICB2YXIgdmVjdG9yID0gW107XG4gICAgICAgICAgICBmb3IodmFyIHkgaW4gd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWNbeF0pe1xuICAgICAgICAgICAgICAgIHZlY3Rvci5wdXNoKHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljW3hdW3ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy50b3BpY1ZlY3RvcnNbeF0gPSB2ZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGFyYWxsZWxDb29yZGluYXRlRGF0YSgpe1xuICAgIHZhciB3b3JkcyA9IHdpbmRvdy53b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhLmtleXMoKTtcbiAgICB2YXIgdG9waWNfd29yZF90aHJlc2hvbGQgPSAwLjM7XG4gICAgd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHkgPXt9O1xufVxuXG4iLCJ3aW5kb3cudnVlQXBwID0gbmV3IFZ1ZSh7XG4gICAgZWw6ICcjdnVlLWFwcCcsXG4gICAgZGF0YToge1xuICAgICAgICBtZXNzYWdlOiAnSGVsbG8gdXNlciEnLFxuICAgICAgICBub25lU2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgIHNlbGVjdGVkUGFnZTogMSxcbiAgICAgICAgcGxheWVyRGV0YWlsOiB7XG4gICAgICAgICAgICBuYW1lOiBcIjxQbGF5ZXIgTmFtZT5cIlxuICAgICAgICB9LFxuICAgICAgICBvdmVydmlld0ZpbHRlcnM6IHt9LFxuICAgICAgICBzZWxlY3RlZE1hcDogMVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBzZWxlY3RQYWdlOiBmdW5jdGlvbih4KXtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlID0geDtcbiAgICAgICAgICAgIGlmICh4ID09IDEpe1xuICAgICAgICAgICAgICAgIGluaXRQYWdlMSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ID09IDIpe1xuICAgICAgICAgICAgICAgIGluaXRQYWdlMigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggPT0gMyl7XG4gICAgICAgICAgICAgICAgaW5pdFBhZ2UzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTW91bnRlZFwiKTtcbiAgICAgICAgbG9hZEQzKCk7XG4gICAgICAgIGxvYWRKcXVlcnkoKTtcbiAgICB9XG59KTsiXX0=
