"use strict";

function loadJquery() {
  $(document).ready(function () {
    $("#toggle-sidebar").click(function () {
      $('.ui.sidebar').sidebar('toggle');
    });
  });
}
"use strict";

function loadD3() {
  console.log("hello");
  d3.json("data/document_topic_probability.json", function (x) {
    window.document_topic_probability = x;
    d3.json("data/topic_word_distribution_in_corpora.json", function (y) {
      window.word_distribution_in_corpora = y;
      d3.json("data/topic_word_probability_in_topic.json", function (z) {
        window.topic_word_probability = z;
        generateTopicVectors(); //Loads vectors in window.topicVectors

        loadVisualizations();
      });
    });
  });
}

function loadVisualizations() {} // pass integer of topic_number


function initPage1(topic_number) {
  var topic_words = window.document_topic_probability;
  var data = window.topic_word_probability;
  var topic_distribution_in_corpa = window.word_distribution_in_corpora;
  var final_data = [];
  var data = data[topic_number][0];

  for (var i = 0; i < data.length; i++) {
    var temp = {};
    var key = Object.keys(data[i])[0];
    var val = data[i][Object.keys(data[i])[0]];
    var overall = topic_distribution_in_corpa[key];
    temp.State = key;
    temp.topic_frequency = val;
    temp.overall = overall;
    temp.total = temp.topic_frequency + temp.overall;
    final_data.push(temp);
  }

  var data = final_data;
  var svg = d3.select("#stacked-bar"),
      margin = {
    top: 20,
    right: 20,
    bottom: 30,
    left: 40
  },
      width = +svg.attr("width") - margin.left - margin.right,
      height = +svg.attr("height") - margin.top - margin.bottom,
      g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  var y = d3.scaleBand() // x = d3.scaleBand()	
  .rangeRound([0, height]) // .rangeRound([0, width])
  .paddingInner(0.05).align(0.1);
  var x = d3.scaleLinear() // y = d3.scaleLinear()
  .rangeRound([0, width]); // .rangeRound([height, 0]);

  var z = d3.scaleOrdinal().range(["#98abc5", "#8a89a6"]);
  var keys = ["topic_frequency", "overall"];
  data.sort(function (a, b) {
    return b.total - a.total;
  });
  y.domain(data.map(function (d) {
    return d.State;
  })); // x.domain...

  x.domain([0, d3.max(data, function (d) {
    return d.total;
  })]).nice(); // y.domain...

  z.domain(keys);
  g.append("g").selectAll("g").data(d3.stack().keys(keys)(data)).enter().append("g").attr("fill", function (d) {
    return z(d.key);
  }).selectAll("rect").data(function (d) {
    return d;
  }).enter().append("rect").attr("y", function (d) {
    return y(d.data.State);
  }) //.attr("x", function(d) { return x(d.data.State); })
  .attr("x", function (d) {
    return x(d[0]);
  }) //.attr("y", function(d) { return y(d[1]); })	
  .attr("width", function (d) {
    return x(d[1]) - x(d[0]);
  }) //.attr("height", function(d) { return y(d[0]) - y(d[1]); })
  .attr("height", y.bandwidth()); //.attr("width", x.bandwidth());	

  g.append("g").attr("class", "axis").attr("transform", "translate(0,0)") //  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisLeft(y)); //   .call(d3.axisBottom(x));

  g.append("g").attr("class", "axis").attr("transform", "translate(0," + height + ")") // New line
  .call(d3.axisBottom(x).ticks(null, "s")) //  .call(d3.axisLeft(y).ticks(null, "s"))
  .append("text").attr("y", 2) //     .attr("y", 2)
  .attr("x", x(x.ticks().pop()) + 0.5) //     .attr("y", y(y.ticks().pop()) + 0.5)
  .attr("dy", "0.32em") //     .attr("dy", "0.32em")
  .attr("fill", "#000").attr("font-weight", "bold").attr("text-anchor", "start").text("Population").attr("transform", "translate(" + -width + ",-10)");
  var legend = g.append("g").attr("font-family", "sans-serif").attr("font-size", 10).attr("text-anchor", "end").selectAll("g").data(keys.slice().reverse()).enter().append("g") //.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });
  .attr("transform", function (d, i) {
    return "translate(-50," + (300 + i * 20) + ")";
  });
  legend.append("rect").attr("x", width - 19).attr("width", 19).attr("height", 19).attr("fill", z);
  legend.append("text").attr("x", width - 24).attr("y", 9.5).attr("dy", "0.32em").text(function (d) {
    return d;
  });
}

function initPage2() {}

function initPage3() {
  loadParallelCoordinate();
}
"use strict";

//vectors format: Map[string(topic_id): List[float]]
function get2DVectors(vectors, successCallback) {
  var request = $.ajax({
    url: "/get2DVectors",
    method: "POST",
    data: vectors
  });
  request.done(function (response) {
    successCallback(response);
  });
  request.fail(function (jqXHR, textStatus) {
    alert("Request failed: " + textStatus);
  });
} // docs format: List[List[string(word)]]


function getWord2VecClusters(docs, successCallback) {
  var request = $.ajax({
    url: "/get2DVectors",
    method: "POST",
    data: {
      docs: docs
    }
  });
  request.done(function (response) {
    successCallback(response);
  });
  request.fail(function (jqXHR, textStatus) {
    alert("Request failed: " + textStatus);
  });
}
"use strict";

function loadParallelCoordinate() {
  var margin = {
    top: 30,
    right: 10,
    bottom: 10,
    left: 10
  },
      width = 960 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;
  var x = d3.scale.ordinal().rangePoints([0, width], 1),
      y = {},
      dragging = {};
  var line = d3.svg.line(),
      axis = d3.svg.axis().orient("left"),
      background,
      foreground;
  var svg = d3.select("body").append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  d3.csv("cars.csv", function (error, cars) {
    // Extract the list of dimensions and create a scale for each.
    x.domain(dimensions = d3.keys(cars[0]).filter(function (d) {
      return d != "name" && (y[d] = d3.scale.linear().domain(d3.extent(cars, function (p) {
        return +p[d];
      })).range([height, 0]));
    })); // Add grey background lines for context.

    background = svg.append("g").attr("class", "background").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add blue foreground lines for focus.

    foreground = svg.append("g").attr("class", "foreground").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add a group element for each dimension.

    var g = svg.selectAll(".dimension").data(dimensions).enter().append("g").attr("class", "dimension").attr("transform", function (d) {
      return "translate(" + x(d) + ")";
    }).call(d3.behavior.drag().origin(function (d) {
      return {
        x: x(d)
      };
    }).on("dragstart", function (d) {
      dragging[d] = x(d);
      background.attr("visibility", "hidden");
    }).on("drag", function (d) {
      dragging[d] = Math.min(width, Math.max(0, d3.event.x));
      foreground.attr("d", path);
      dimensions.sort(function (a, b) {
        return position(a) - position(b);
      });
      x.domain(dimensions);
      g.attr("transform", function (d) {
        return "translate(" + position(d) + ")";
      });
    }).on("dragend", function (d) {
      delete dragging[d];
      transition(d3.select(this)).attr("transform", "translate(" + x(d) + ")");
      transition(foreground).attr("d", path);
      background.attr("d", path).transition().delay(500).duration(0).attr("visibility", null);
    })); // Add an axis and title.

    g.append("g").attr("class", "axis").each(function (d) {
      d3.select(this).call(axis.scale(y[d]));
    }).append("text").style("text-anchor", "middle").attr("y", -9).text(function (d) {
      return d;
    }); // Add and store a brush for each axis.

    g.append("g").attr("class", "brush").each(function (d) {
      d3.select(this).call(y[d].brush = d3.svg.brush().y(y[d]).on("brushstart", brushstart).on("brush", brush));
    }).selectAll("rect").attr("x", -8).attr("width", 16);
  });

  function position(d) {
    var v = dragging[d];
    return v == null ? x(d) : v;
  }

  function transition(g) {
    return g.transition().duration(500);
  } // Returns the path for a given data point.


  function path(d) {
    return line(dimensions.map(function (p) {
      return [position(p), y[p](d[p])];
    }));
  }

  function brushstart() {
    d3.event.sourceEvent.stopPropagation();
  } // Handles a brush event, toggling the display of foreground lines.


  function brush() {
    var actives = dimensions.filter(function (p) {
      return !y[p].brush.empty();
    }),
        extents = actives.map(function (p) {
      return y[p].brush.extent();
    });
    foreground.style("display", function (d) {
      return actives.every(function (p, i) {
        return extents[i][0] <= d[p] && d[p] <= extents[i][1];
      }) ? null : "none";
    });
  }
}
"use strict";

function generateTopicVectors() {
  window.topicVectors = {};

  if (window.topic_word_probability_in_topic) {
    for (var x in window.topic_word_probability_in_topic) {
      var vector = [];

      for (var y in window.topic_word_probability_in_topic[x]) {
        vector.push(window.topic_word_probability_in_topic[x][y]);
      }

      window.topicVectors[x] = vector;
    }
  }
}

function generateParallelCoordinateData() {
  var words = window.word_distribution_in_corpora.keys();
  var topic_word_threshold = 0.3;
  window.topic_word_probability.map(function (x) {});
}
"use strict";

window.vueApp = new Vue({
  el: '#vue-app',
  data: {
    message: 'Hello user!',
    noneSelected: true,
    selectedPage: 1,
    playerDetail: {
      name: "<Player Name>"
    },
    overviewFilters: {},
    selectedMap: 1
  },
  methods: {
    selectPage: function selectPage(x) {
      this.selectedPage = x;

      if (x == 1) {
        initPage1(0);
      }

      if (x == 2) {
        initPage2();
      }

      if (x == 3) {
        initPage3();
      }
    }
  },
  mounted: function mounted() {
    console.log("Mounted");
    loadD3();
    loadJquery();
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy5qcyIsIm1haW4uanMiLCJuZXR3b3JrLmpzIiwicGFyYWxsZWwtY29vcmRpbmF0ZS5qcyIsInV0aWwuanMiLCJ2dWVfbW9kZWwuanMiXSwibmFtZXMiOlsibG9hZEpxdWVyeSIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xpY2siLCJzaWRlYmFyIiwibG9hZEQzIiwiY29uc29sZSIsImxvZyIsImQzIiwianNvbiIsIngiLCJ3aW5kb3ciLCJkb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eSIsInkiLCJ3b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhIiwieiIsInRvcGljX3dvcmRfcHJvYmFiaWxpdHkiLCJnZW5lcmF0ZVRvcGljVmVjdG9ycyIsImxvYWRWaXN1YWxpemF0aW9ucyIsImluaXRQYWdlMSIsInRvcGljX251bWJlciIsInRvcGljX3dvcmRzIiwiZGF0YSIsInRvcGljX2Rpc3RyaWJ1dGlvbl9pbl9jb3JwYSIsImZpbmFsX2RhdGEiLCJpIiwibGVuZ3RoIiwidGVtcCIsImtleSIsIk9iamVjdCIsImtleXMiLCJ2YWwiLCJvdmVyYWxsIiwiU3RhdGUiLCJ0b3BpY19mcmVxdWVuY3kiLCJ0b3RhbCIsInB1c2giLCJzdmciLCJzZWxlY3QiLCJtYXJnaW4iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ3aWR0aCIsImF0dHIiLCJoZWlnaHQiLCJnIiwiYXBwZW5kIiwic2NhbGVCYW5kIiwicmFuZ2VSb3VuZCIsInBhZGRpbmdJbm5lciIsImFsaWduIiwic2NhbGVMaW5lYXIiLCJzY2FsZU9yZGluYWwiLCJyYW5nZSIsInNvcnQiLCJhIiwiYiIsImRvbWFpbiIsIm1hcCIsImQiLCJtYXgiLCJuaWNlIiwic2VsZWN0QWxsIiwic3RhY2siLCJlbnRlciIsImJhbmR3aWR0aCIsImNhbGwiLCJheGlzTGVmdCIsImF4aXNCb3R0b20iLCJ0aWNrcyIsInBvcCIsInRleHQiLCJsZWdlbmQiLCJzbGljZSIsInJldmVyc2UiLCJpbml0UGFnZTIiLCJpbml0UGFnZTMiLCJsb2FkUGFyYWxsZWxDb29yZGluYXRlIiwiZ2V0MkRWZWN0b3JzIiwidmVjdG9ycyIsInN1Y2Nlc3NDYWxsYmFjayIsInJlcXVlc3QiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZG9uZSIsInJlc3BvbnNlIiwiZmFpbCIsImpxWEhSIiwidGV4dFN0YXR1cyIsImFsZXJ0IiwiZ2V0V29yZDJWZWNDbHVzdGVycyIsImRvY3MiLCJzY2FsZSIsIm9yZGluYWwiLCJyYW5nZVBvaW50cyIsImRyYWdnaW5nIiwibGluZSIsImF4aXMiLCJvcmllbnQiLCJiYWNrZ3JvdW5kIiwiZm9yZWdyb3VuZCIsImNzdiIsImVycm9yIiwiY2FycyIsImRpbWVuc2lvbnMiLCJmaWx0ZXIiLCJsaW5lYXIiLCJleHRlbnQiLCJwIiwicGF0aCIsImJlaGF2aW9yIiwiZHJhZyIsIm9yaWdpbiIsIm9uIiwiTWF0aCIsIm1pbiIsImV2ZW50IiwicG9zaXRpb24iLCJ0cmFuc2l0aW9uIiwiZGVsYXkiLCJkdXJhdGlvbiIsImVhY2giLCJzdHlsZSIsImJydXNoIiwiYnJ1c2hzdGFydCIsInYiLCJzb3VyY2VFdmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImFjdGl2ZXMiLCJlbXB0eSIsImV4dGVudHMiLCJldmVyeSIsInRvcGljVmVjdG9ycyIsInRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWMiLCJ2ZWN0b3IiLCJnZW5lcmF0ZVBhcmFsbGVsQ29vcmRpbmF0ZURhdGEiLCJ3b3JkcyIsInRvcGljX3dvcmRfdGhyZXNob2xkIiwidnVlQXBwIiwiVnVlIiwiZWwiLCJtZXNzYWdlIiwibm9uZVNlbGVjdGVkIiwic2VsZWN0ZWRQYWdlIiwicGxheWVyRGV0YWlsIiwibmFtZSIsIm92ZXJ2aWV3RmlsdGVycyIsInNlbGVjdGVkTWFwIiwibWV0aG9kcyIsInNlbGVjdFBhZ2UiLCJtb3VudGVkIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLFVBQVQsR0FBcUI7QUFDakJDLEVBQUFBLENBQUMsQ0FBQ0MsUUFB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QUFDSyxzQkFBUCxDQUE4QjRDLEdBQTlCLENBQWtDLFVBQUFsRCxDQUFDLEVBQUksQ0FFdEMsQ0FGRDtBQUdIOzs7QUNuQkRDLE1BQU0sQ0FBQ2tJLE1BQVAsR0FBZ0IsSUFBSUMsR0FBSixDQUFRO0FBQ3BCQyxFQUFBQSxFQUFFLEVBQUUsVUFEZ0I7QUFFcEJ6SCxFQUFBQSxJQUFJLEVBQUU7QUFDRjBILElBQUFBLE9BQU8sRUFBRSxhQURQO0FBRUZDLElBQUFBLFlBQVksRUFBRSxJQUZaO0FBR0ZDLElBQUFBLFlBQVksRUFBRSxDQUhaO0FBSUZDLElBQUFBLFlBQVksRUFBRTtBQUNWQyxNQUFBQSxJQUFJLEVBQUU7QUFESSxLQUpaO0FBT0ZDLElBQUFBLGVBQWUsRUFBRSxFQVBmO0FBUUZDLElBQUFBLFdBQVcsRUFBRTtBQVJYLEdBRmM7QUFZcEJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxVQUFVLEVBQUUsb0JBQVM5SSxDQUFULEVBQVc7QUFDbkIsV0FBS3dJLFlBQUwsR0FBb0J4SSxDQUFwQjs7QUFDQSxVQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFXO0FBQ1BTLFFBQUFBLFNBQVMsQ0FBQyxDQUFELENBQVQ7QUFDSDs7QUFDRCxVQUFJVCxDQUFDLElBQUksQ0FBVCxFQUFXO0FBQ1BtRSxRQUFBQSxTQUFTO0FBQ1o7O0FBQ0QsVUFBSW5FLENBQUMsSUFBSSxDQUFULEVBQVc7QUFDUG9FLFFBQUFBLFNBQVM7QUFDWjtBQUNKO0FBWkksR0FaVztBQTBCcEIyRSxFQUFBQSxPQUFPLEVBQUUsbUJBQVU7QUFDZm5KLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVo7QUFDQUYsSUFBQUEsTUFBTTtBQUNOTixJQUFBQSxVQUFVO0FBQ2I7QUE5Qm1CLENBQVIsQ0FBaEIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbG9hZEpxdWVyeSgpe1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIjdG9nZ2xlLXNpZGViYXJcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJy51aS5zaWRlYmFyJylcbiAgICAgICAgICAgICAgICAuc2lkZWJhcigndG9nZ2xlJylcbiAgICAgICAgICAgIDtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH0pO1xufVxuIiwiZnVuY3Rpb24gbG9hZEQzKCl7XG4gICAgY29uc29sZS5sb2coXCJoZWxsb1wiKTtcbiAgICBkMy5qc29uKFwiZGF0YS9kb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eS5qc29uXCIsIGZ1bmN0aW9uKHgpe1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnRfdG9waWNfcHJvYmFiaWxpdHk9IHg7XG4gICAgICAgIGQzLmpzb24oXCJkYXRhL3RvcGljX3dvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmEuanNvblwiLCBmdW5jdGlvbih5KXtcbiAgICAgICAgICAgIHdpbmRvdy53b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhPSB5O1xuICAgICAgICAgICAgZDMuanNvbihcImRhdGEvdG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYy5qc29uXCIsIGZ1bmN0aW9uKHope1xuICAgICAgICAgICAgICAgIHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5ID0gejtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVRvcGljVmVjdG9ycygpOyAvL0xvYWRzIHZlY3RvcnMgaW4gd2luZG93LnRvcGljVmVjdG9yc1xuICAgICAgICAgICAgICAgIGxvYWRWaXN1YWxpemF0aW9ucygpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvYWRWaXN1YWxpemF0aW9ucygpe1xuXG59XG5cbi8vIHBhc3MgaW50ZWdlciBvZiB0b3BpY19udW1iZXJcbmZ1bmN0aW9uIGluaXRQYWdlMSh0b3BpY19udW1iZXIpe1xuXHR2YXIgdG9waWNfd29yZHMgPSB3aW5kb3cuZG9jdW1lbnRfdG9waWNfcHJvYmFiaWxpdHk7XG5cdHZhciBkYXRhID0gd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHk7XG5cdHZhciB0b3BpY19kaXN0cmlidXRpb25faW5fY29ycGEgPSB3aW5kb3cud29yZF9kaXN0cmlidXRpb25faW5fY29ycG9yYTtcblxuXHR2YXIgZmluYWxfZGF0YSA9W107XG5cdHZhciBkYXRhID0gZGF0YVt0b3BpY19udW1iZXJdWzBdO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdGVtcCA9e31cblx0XHR2YXIga2V5ID0gT2JqZWN0LmtleXMoZGF0YVtpXSlbMF07XG5cdFx0dmFyIHZhbCA9IGRhdGFbaV1bT2JqZWN0LmtleXMoZGF0YVtpXSlbMF1dO1xuXHRcdHZhciBvdmVyYWxsID0gdG9waWNfZGlzdHJpYnV0aW9uX2luX2NvcnBhW2tleV07XG5cdFx0dGVtcC5TdGF0ZSA9IGtleTtcblx0XHR0ZW1wLnRvcGljX2ZyZXF1ZW5jeSA9IHZhbDtcblx0XHR0ZW1wLm92ZXJhbGwgPSBvdmVyYWxsO1xuXHRcdHRlbXAudG90YWwgPSB0ZW1wLnRvcGljX2ZyZXF1ZW5jeSArIHRlbXAub3ZlcmFsbDtcblx0XHRmaW5hbF9kYXRhLnB1c2godGVtcCk7XG5cdH1cblx0dmFyIGRhdGEgPSBmaW5hbF9kYXRhO1xuXHR2YXIgc3ZnID0gZDMuc2VsZWN0KFwiI3N0YWNrZWQtYmFyXCIpLFxuICAgIG1hcmdpbiA9IHt0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDQwfSxcbiAgICB3aWR0aCA9ICtzdmcuYXR0cihcIndpZHRoXCIpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20sXG4gICAgZyA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuXHR2YXIgeSA9IGQzLnNjYWxlQmFuZCgpXHRcdFx0Ly8geCA9IGQzLnNjYWxlQmFuZCgpXHRcblx0ICAgIC5yYW5nZVJvdW5kKFswLCBoZWlnaHRdKVx0Ly8gLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcblx0ICAgIC5wYWRkaW5nSW5uZXIoMC4wNSlcblx0ICAgIC5hbGlnbigwLjEpO1xuXG5cdHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKVx0XHQvLyB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuXHQgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSk7XHQvLyAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cblx0dmFyIHogPSBkMy5zY2FsZU9yZGluYWwoKVxuXHQgICAgLnJhbmdlKFtcIiM5OGFiYzVcIiwgXCIjOGE4OWE2XCJdKTtcblxuXHR2YXIga2V5cyA9IFtcInRvcGljX2ZyZXF1ZW5jeVwiLFwib3ZlcmFsbFwiXTtcblx0ZGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGIudG90YWwgLSBhLnRvdGFsOyB9KTtcbiAgICB5LmRvbWFpbihkYXRhLm1hcChmdW5jdGlvbihkKSB7IHJldHVybiBkLlN0YXRlOyB9KSk7XHRcdFx0XHRcdC8vIHguZG9tYWluLi4uXG4gICAgeC5kb21haW4oWzAsIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnRvdGFsOyB9KV0pLm5pY2UoKTtcdC8vIHkuZG9tYWluLi4uXG4gICAgei5kb21haW4oa2V5cyk7XG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgLnNlbGVjdEFsbChcImdcIilcbiAgICAuZGF0YShkMy5zdGFjaygpLmtleXMoa2V5cykoZGF0YSkpXG4gICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHooZC5rZXkpOyB9KVxuICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgLmRhdGEoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSlcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLmRhdGEuU3RhdGUpOyB9KVx0ICAgIC8vLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC5kYXRhLlN0YXRlKTsgfSlcbiAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4KGRbMF0pOyB9KVx0XHRcdCAgICAvLy5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGRbMV0pOyB9KVx0XG4gICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZFsxXSkgLSB4KGRbMF0pOyB9KVx0Ly8uYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGRbMF0pIC0geShkWzFdKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHkuYmFuZHdpZHRoKCkpO1x0XHRcdFx0XHRcdCAgICAvLy5hdHRyKFwid2lkdGhcIiwgeC5iYW5kd2lkdGgoKSk7XHRcblxuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXNcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsMClcIikgXHRcdFx0XHRcdFx0Ly8gIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTtcdFx0XHRcdFx0XHRcdFx0XHQvLyAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpO1xuXG4gIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXNcIilcblx0ICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiK2hlaWdodCtcIilcIilcdFx0XHRcdC8vIE5ldyBsaW5lXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKG51bGwsIFwic1wiKSlcdFx0XHRcdFx0Ly8gIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKG51bGwsIFwic1wiKSlcbiAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDIpXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gICAgIC5hdHRyKFwieVwiLCAyKVxuICAgICAgLmF0dHIoXCJ4XCIsIHgoeC50aWNrcygpLnBvcCgpKSArIDAuNSkgXHRcdFx0XHRcdFx0Ly8gICAgIC5hdHRyKFwieVwiLCB5KHkudGlja3MoKS5wb3AoKSkgKyAwLjUpXG4gICAgICAuYXR0cihcImR5XCIsIFwiMC4zMmVtXCIpXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAgICAgLmF0dHIoXCJkeVwiLCBcIjAuMzJlbVwiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzAwMFwiKVxuICAgICAgLmF0dHIoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgLnRleHQoXCJQb3B1bGF0aW9uXCIpXG5cdCAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrICgtd2lkdGgpICtcIiwtMTApXCIpO1xuXG5cdHZhciBsZWdlbmQgPSBnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJzYW5zLXNlcmlmXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCAxMClcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcbiAgICAuc2VsZWN0QWxsKFwiZ1wiKVxuICAgIC5kYXRhKGtleXMuc2xpY2UoKS5yZXZlcnNlKCkpXG4gICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgIC8vLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoMCxcIiArIGkgKiAyMCArIFwiKVwiOyB9KTtcblx0IC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIFwidHJhbnNsYXRlKC01MCxcIiArICgzMDAgKyBpICogMjApICsgXCIpXCI7IH0pO1xuXG4gIGxlZ2VuZC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInhcIiwgd2lkdGggLSAxOSlcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgMTkpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCAxOSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCB6KTtcblxuICBsZWdlbmQuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJ4XCIsIHdpZHRoIC0gMjQpXG4gICAgICAuYXR0cihcInlcIiwgOS41KVxuICAgICAgLmF0dHIoXCJkeVwiLCBcIjAuMzJlbVwiKVxuICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSk7XG5cblxuXG59XG5cbmZ1bmN0aW9uIGluaXRQYWdlMigpe1xuXG59XG5cbmZ1bmN0aW9uIGluaXRQYWdlMygpe1xuICAgIGxvYWRQYXJhbGxlbENvb3JkaW5hdGUoKTtcbn0iLCIvL3ZlY3RvcnMgZm9ybWF0OiBNYXBbc3RyaW5nKHRvcGljX2lkKTogTGlzdFtmbG9hdF1dXG5mdW5jdGlvbiBnZXQyRFZlY3RvcnModmVjdG9ycywgc3VjY2Vzc0NhbGxiYWNrKXtcbiAgICB2YXIgcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgIHVybDogXCIvZ2V0MkRWZWN0b3JzXCIsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGRhdGE6IHZlY3RvcnNcbiAgICAgIH0pO1xuICAgICAgIFxuICAgICAgcmVxdWVzdC5kb25lKGZ1bmN0aW9uKCByZXNwb25zZSApIHtcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgIH0pO1xuICAgICAgIFxuICAgICAgcmVxdWVzdC5mYWlsKGZ1bmN0aW9uKCBqcVhIUiwgdGV4dFN0YXR1cyApIHtcbiAgICAgICAgYWxlcnQoIFwiUmVxdWVzdCBmYWlsZWQ6IFwiICsgdGV4dFN0YXR1cyApO1xuICAgICAgfSk7XG59XG5cbi8vIGRvY3MgZm9ybWF0OiBMaXN0W0xpc3Rbc3RyaW5nKHdvcmQpXV1cbmZ1bmN0aW9uIGdldFdvcmQyVmVjQ2x1c3RlcnMoZG9jcywgc3VjY2Vzc0NhbGxiYWNrKXtcbiAgICB2YXIgcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgIHVybDogXCIvZ2V0MkRWZWN0b3JzXCIsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGRhdGE6IHtkb2NzOiBkb2NzfVxuICAgICAgfSk7XG4gICAgICAgXG4gICAgICByZXF1ZXN0LmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgfSk7XG4gICAgICAgXG4gICAgICByZXF1ZXN0LmZhaWwoZnVuY3Rpb24oIGpxWEhSLCB0ZXh0U3RhdHVzICkge1xuICAgICAgICBhbGVydCggXCJSZXF1ZXN0IGZhaWxlZDogXCIgKyB0ZXh0U3RhdHVzICk7XG4gICAgICB9KTtcbn1cblxuIiwiZnVuY3Rpb24gbG9hZFBhcmFsbGVsQ29vcmRpbmF0ZSgpe1xuICAgIHZhciBtYXJnaW4gPSB7dG9wOiAzMCwgcmlnaHQ6IDEwLCBib3R0b206IDEwLCBsZWZ0OiAxMH0sXG4gICAgICAgIHdpZHRoID0gOTYwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgICAgIGhlaWdodCA9IDUwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgdmFyIHggPSBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2VQb2ludHMoWzAsIHdpZHRoXSwgMSksXG4gICAgICAgIHkgPSB7fSxcbiAgICAgICAgZHJhZ2dpbmcgPSB7fTtcblxuICAgIHZhciBsaW5lID0gZDMuc3ZnLmxpbmUoKSxcbiAgICAgICAgYXhpcyA9IGQzLnN2Zy5heGlzKCkub3JpZW50KFwibGVmdFwiKSxcbiAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgZm9yZWdyb3VuZDtcblxuICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcInN2Z1wiKVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICBkMy5jc3YoXCJjYXJzLmNzdlwiLCBmdW5jdGlvbihlcnJvciwgY2Fycykge1xuXG4gICAgLy8gRXh0cmFjdCB0aGUgbGlzdCBvZiBkaW1lbnNpb25zIGFuZCBjcmVhdGUgYSBzY2FsZSBmb3IgZWFjaC5cbiAgICB4LmRvbWFpbihkaW1lbnNpb25zID0gZDMua2V5cyhjYXJzWzBdKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gZCAhPSBcIm5hbWVcIiAmJiAoeVtkXSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAgICAgICAuZG9tYWluKGQzLmV4dGVudChjYXJzLCBmdW5jdGlvbihwKSB7IHJldHVybiArcFtkXTsgfSkpXG4gICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pKTtcbiAgICB9KSk7XG5cbiAgICAvLyBBZGQgZ3JleSBiYWNrZ3JvdW5kIGxpbmVzIGZvciBjb250ZXh0LlxuICAgIGJhY2tncm91bmQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFja2dyb3VuZFwiKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICAuZGF0YShjYXJzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKTtcblxuICAgIC8vIEFkZCBibHVlIGZvcmVncm91bmQgbGluZXMgZm9yIGZvY3VzLlxuICAgIGZvcmVncm91bmQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZm9yZWdyb3VuZFwiKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICAuZGF0YShjYXJzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKTtcblxuICAgIC8vIEFkZCBhIGdyb3VwIGVsZW1lbnQgZm9yIGVhY2ggZGltZW5zaW9uLlxuICAgIHZhciBnID0gc3ZnLnNlbGVjdEFsbChcIi5kaW1lbnNpb25cIilcbiAgICAgICAgLmRhdGEoZGltZW5zaW9ucylcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZGltZW5zaW9uXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeChkKSArIFwiKVwiOyB9KVxuICAgICAgICAuY2FsbChkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgICAgICAgIC5vcmlnaW4oZnVuY3Rpb24oZCkgeyByZXR1cm4ge3g6IHgoZCl9OyB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGRyYWdnaW5nW2RdID0geChkKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQuYXR0cihcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ1wiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBkcmFnZ2luZ1tkXSA9IE1hdGgubWluKHdpZHRoLCBNYXRoLm1heCgwLCBkMy5ldmVudC54KSk7XG4gICAgICAgICAgICBmb3JlZ3JvdW5kLmF0dHIoXCJkXCIsIHBhdGgpO1xuICAgICAgICAgICAgZGltZW5zaW9ucy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIHBvc2l0aW9uKGEpIC0gcG9zaXRpb24oYik7IH0pO1xuICAgICAgICAgICAgeC5kb21haW4oZGltZW5zaW9ucyk7XG4gICAgICAgICAgICBnLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBwb3NpdGlvbihkKSArIFwiKVwiOyB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImRyYWdlbmRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRyYWdnaW5nW2RdO1xuICAgICAgICAgICAgdHJhbnNpdGlvbihkMy5zZWxlY3QodGhpcykpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB4KGQpICsgXCIpXCIpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbihmb3JlZ3JvdW5kKS5hdHRyKFwiZFwiLCBwYXRoKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgcGF0aClcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgLmRlbGF5KDUwMClcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgICAgICAgICAuYXR0cihcInZpc2liaWxpdHlcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAvLyBBZGQgYW4gYXhpcyBhbmQgdGl0bGUuXG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzXCIpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHsgZDMuc2VsZWN0KHRoaXMpLmNhbGwoYXhpcy5zY2FsZSh5W2RdKSk7IH0pXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAtOSlcbiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSk7XG5cbiAgICAvLyBBZGQgYW5kIHN0b3JlIGEgYnJ1c2ggZm9yIGVhY2ggYXhpcy5cbiAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJydXNoXCIpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jYWxsKHlbZF0uYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKS55KHlbZF0pLm9uKFwiYnJ1c2hzdGFydFwiLCBicnVzaHN0YXJ0KS5vbihcImJydXNoXCIsIGJydXNoKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAtOClcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAxNik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvbihkKSB7XG4gICAgdmFyIHYgPSBkcmFnZ2luZ1tkXTtcbiAgICByZXR1cm4gdiA9PSBudWxsID8geChkKSA6IHY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbihnKSB7XG4gICAgcmV0dXJuIGcudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0aGUgcGF0aCBmb3IgYSBnaXZlbiBkYXRhIHBvaW50LlxuICAgIGZ1bmN0aW9uIHBhdGgoZCkge1xuICAgIHJldHVybiBsaW5lKGRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uKHApIHsgcmV0dXJuIFtwb3NpdGlvbihwKSwgeVtwXShkW3BdKV07IH0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBicnVzaHN0YXJ0KCkge1xuICAgIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZXMgYSBicnVzaCBldmVudCwgdG9nZ2xpbmcgdGhlIGRpc3BsYXkgb2YgZm9yZWdyb3VuZCBsaW5lcy5cbiAgICBmdW5jdGlvbiBicnVzaCgpIHtcbiAgICB2YXIgYWN0aXZlcyA9IGRpbWVuc2lvbnMuZmlsdGVyKGZ1bmN0aW9uKHApIHsgcmV0dXJuICF5W3BdLmJydXNoLmVtcHR5KCk7IH0pLFxuICAgICAgICBleHRlbnRzID0gYWN0aXZlcy5tYXAoZnVuY3Rpb24ocCkgeyByZXR1cm4geVtwXS5icnVzaC5leHRlbnQoKTsgfSk7XG4gICAgZm9yZWdyb3VuZC5zdHlsZShcImRpc3BsYXlcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlcy5ldmVyeShmdW5jdGlvbihwLCBpKSB7XG4gICAgICAgIHJldHVybiBleHRlbnRzW2ldWzBdIDw9IGRbcF0gJiYgZFtwXSA8PSBleHRlbnRzW2ldWzFdO1xuICAgICAgICB9KSA/IG51bGwgOiBcIm5vbmVcIjtcbiAgICB9KTtcbiAgICB9XG5cbn0iLCJmdW5jdGlvbiBnZW5lcmF0ZVRvcGljVmVjdG9ycygpe1xuICAgIHdpbmRvdy50b3BpY1ZlY3RvcnMgPSB7fTtcbiAgICBpZih3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYyl7XG4gICAgICAgIGZvcih2YXIgeCBpbiB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYyl7XG4gICAgICAgICAgICB2YXIgdmVjdG9yID0gW107XG4gICAgICAgICAgICBmb3IodmFyIHkgaW4gd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWNbeF0pe1xuICAgICAgICAgICAgICAgIHZlY3Rvci5wdXNoKHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljW3hdW3ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy50b3BpY1ZlY3RvcnNbeF0gPSB2ZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGFyYWxsZWxDb29yZGluYXRlRGF0YSgpe1xuICAgIHZhciB3b3JkcyA9IHdpbmRvdy53b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhLmtleXMoKTtcbiAgICB2YXIgdG9waWNfd29yZF90aHJlc2hvbGQgPSAwLjM7XG4gICAgd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHkubWFwKHggPT4ge1xuICAgICAgICBcbiAgICB9KTtcbn1cblxuIiwid2luZG93LnZ1ZUFwcCA9IG5ldyBWdWUoe1xuICAgIGVsOiAnI3Z1ZS1hcHAnLFxuICAgIGRhdGE6IHtcbiAgICAgICAgbWVzc2FnZTogJ0hlbGxvIHVzZXIhJyxcbiAgICAgICAgbm9uZVNlbGVjdGVkOiB0cnVlLFxuICAgICAgICBzZWxlY3RlZFBhZ2U6IDEsXG4gICAgICAgIHBsYXllckRldGFpbDoge1xuICAgICAgICAgICAgbmFtZTogXCI8UGxheWVyIE5hbWU+XCJcbiAgICAgICAgfSxcbiAgICAgICAgb3ZlcnZpZXdGaWx0ZXJzOiB7fSxcbiAgICAgICAgc2VsZWN0ZWRNYXA6IDFcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgc2VsZWN0UGFnZTogZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUGFnZSA9IHg7XG4gICAgICAgICAgICBpZiAoeCA9PSAxKXtcbiAgICAgICAgICAgICAgICBpbml0UGFnZTEoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeCA9PSAyKXtcbiAgICAgICAgICAgICAgICBpbml0UGFnZTIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ID09IDMpe1xuICAgICAgICAgICAgICAgIGluaXRQYWdlMygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkOiBmdW5jdGlvbigpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1vdW50ZWRcIik7XG4gICAgICAgIGxvYWREMygpO1xuICAgICAgICBsb2FkSnF1ZXJ5KCk7XG4gICAgfVxufSk7Il19
