"use strict";

function loadJquery() {
  $(document).ready(function () {
    $("#toggle-sidebar").click(function () {
      $('.ui.sidebar').sidebar('toggle');
    });
  });
}
"use strict";

function loadD3() {
  console.log("hello");
  d3.csv("data/document_topic_probability.json", function (x) {
    window.document_topic_probability = x;
    d3.csv("data/document_topic_probability.json", function (y) {
      window.topic_word_distribution_in_corpora = y;
      d3.csv("data/topic_word_probability_in_topic.json", function (z) {
        window.topic_word_probability = z;
        generateTopicVectors(); //Loads vectors in window.topicVectors

        loadVisualizations();
      });
    });
  });
}

function loadVisualizations() {}

function initPage1(topic_number) {
  var topic_words = window.document_topic_probability;
  var corpus_words = window.topic_word_distribution_in_corpora;
  var initStackedBarChart = {
    draw: function draw(config) {
      debugger;
      var me = this,
          domEle = config.element,
          stackKey = config.key,
          data = config.data[config.topic_number].values,
          margin = {
        top: 20,
        right: 20,
        bottom: 30,
        left: 50
      },
          width = 960 - margin.left - margin.right,
          height = 500 - margin.top - margin.bottom,
          xScale = d3.scaleLinear().rangeRound([0, width]),
          yScale = d3.scaleBand().rangeRound([height, 0]).padding(0.1),
          color = d3.scaleOrdinal(d3.schemeCategory20),
          xAxis = d3.axisBottom(xScale),
          yAxis = d3.axisLeft(yScale),
          svg = d3.select("#" + domEle).append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
      var stack = d3.stack().keys(stackKey)
      /*.order(d3.stackOrder)*/
      .offset(d3.stackOffsetNone);
      var layers = stack(data);
      yScale.domain(data.map(function (d) {
        return d.keys[0];
      }));
      xScale.domain([0, 999]).nice();
      var layer = svg.selectAll(".layer").data(layers).enter().append("g").attr("class", "layer").style("fill", function (d, i) {
        return color(i);
      });
      layer.selectAll("rect").data(function (d) {
        return d;
      }).enter().append("rect").attr("y", function (d) {
        return yScale(d.data.values[0]);
      }).attr("x", function (d) {
        return xScale(d[0]);
      }).attr("height", yScale.bandwidth()).attr("width", function (d) {
        return xScale(d[1]) - xScale(d[0]);
      });
      svg.append("g").attr("class", "axis axis--x").attr("transform", "translate(0," + (height + 5) + ")").call(xAxis);
      svg.append("g").attr("class", "axis axis--y").attr("transform", "translate(0,0)").call(yAxis);
    }
  };
  var data = window.topic_word_probability_in_topic; // var data = [{"date":"TEXT","01":59,"03":33,"04":23},{"date":"DIFF","02":88,"03":1,"04":30},{"date":"ETCH","02":78,"03":81,"04":70},{"date":"ANNL","01":53,"03":12,"05":18},{"date":"FCOT","01":84,"02":27,"05":16},{"date":"PRNT","01A":72,"01A":14,"04B":42}];
  //var data = [{"date":"TEXT","TEXT01":59,"TEXT03":33,"TEXT04":23},{"date":"DIFF","DIFF02":88,"DIFF03":1,"DIFF04":30},{"date":"ETCH","ETCH02":78,"ETCH03":81,"ETCH04":70},{"date":"ANNL","ANNL01":53,"ANNL03":12,"ANNL05":18},{"date":"FCOT","FCOT01":84,"FCOT02":27,"FCOT05":16},{"date":"PRNT","PRNT01A":72,"PRNT01A":14,"PRNT04B":42}];
  //var key = ["TEXT01","TEXT02", "TEXT03", "TEXT04","DIFF01","DIFF02", "DIFF03", "DIFF04","DIFF05","ETCH01","ETCH02", "ETCH03", "ETCH04", "ETCH05","ANNL01","ANNL02", "ANNL03", "ANNL04", "ANNL05","FCOT01","FCOT02", "FCOT03", "FCOT04", "FCOT05", "PRNT01A", "PRNT01B", "PRNT02A", "PRNT02B", "PRNT01A", "PRNT03B", "PRNT04A", "PRNT04B"];

  var key = ["01", "02"];
  debugger;
  initStackedBarChart.draw({
    data: data,
    key: key,
    element: 'stacked-bar',
    topic_number: topic_number
  });
}

function initPage2() {}

function initPage3() {
  loadParallelCoordinate();
}
"use strict";

function get2DVectors(vectors, successCallback) {
  var request = $.ajax({
    url: "/get2DVectors",
    method: "POST",
    data: vectors
  });
  request.done(function (response) {
    successCallback(response);
  });
  request.fail(function (jqXHR, textStatus) {
    alert("Request failed: " + textStatus);
  });
}
"use strict";

function loadParallelCoordinate() {
  var margin = {
    top: 30,
    right: 10,
    bottom: 10,
    left: 10
  },
      width = 960 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;
  var x = d3.scale.ordinal().rangePoints([0, width], 1),
      y = {},
      dragging = {};
  var line = d3.svg.line(),
      axis = d3.svg.axis().orient("left"),
      background,
      foreground;
  var svg = d3.select("body").append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  d3.csv("cars.csv", function (error, cars) {
    // Extract the list of dimensions and create a scale for each.
    x.domain(dimensions = d3.keys(cars[0]).filter(function (d) {
      return d != "name" && (y[d] = d3.scale.linear().domain(d3.extent(cars, function (p) {
        return +p[d];
      })).range([height, 0]));
    })); // Add grey background lines for context.

    background = svg.append("g").attr("class", "background").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add blue foreground lines for focus.

    foreground = svg.append("g").attr("class", "foreground").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add a group element for each dimension.

    var g = svg.selectAll(".dimension").data(dimensions).enter().append("g").attr("class", "dimension").attr("transform", function (d) {
      return "translate(" + x(d) + ")";
    }).call(d3.behavior.drag().origin(function (d) {
      return {
        x: x(d)
      };
    }).on("dragstart", function (d) {
      dragging[d] = x(d);
      background.attr("visibility", "hidden");
    }).on("drag", function (d) {
      dragging[d] = Math.min(width, Math.max(0, d3.event.x));
      foreground.attr("d", path);
      dimensions.sort(function (a, b) {
        return position(a) - position(b);
      });
      x.domain(dimensions);
      g.attr("transform", function (d) {
        return "translate(" + position(d) + ")";
      });
    }).on("dragend", function (d) {
      delete dragging[d];
      transition(d3.select(this)).attr("transform", "translate(" + x(d) + ")");
      transition(foreground).attr("d", path);
      background.attr("d", path).transition().delay(500).duration(0).attr("visibility", null);
    })); // Add an axis and title.

    g.append("g").attr("class", "axis").each(function (d) {
      d3.select(this).call(axis.scale(y[d]));
    }).append("text").style("text-anchor", "middle").attr("y", -9).text(function (d) {
      return d;
    }); // Add and store a brush for each axis.

    g.append("g").attr("class", "brush").each(function (d) {
      d3.select(this).call(y[d].brush = d3.svg.brush().y(y[d]).on("brushstart", brushstart).on("brush", brush));
    }).selectAll("rect").attr("x", -8).attr("width", 16);
  });

  function position(d) {
    var v = dragging[d];
    return v == null ? x(d) : v;
  }

  function transition(g) {
    return g.transition().duration(500);
  } // Returns the path for a given data point.


  function path(d) {
    return line(dimensions.map(function (p) {
      return [position(p), y[p](d[p])];
    }));
  }

  function brushstart() {
    d3.event.sourceEvent.stopPropagation();
  } // Handles a brush event, toggling the display of foreground lines.


  function brush() {
    var actives = dimensions.filter(function (p) {
      return !y[p].brush.empty();
    }),
        extents = actives.map(function (p) {
      return y[p].brush.extent();
    });
    foreground.style("display", function (d) {
      return actives.every(function (p, i) {
        return extents[i][0] <= d[p] && d[p] <= extents[i][1];
      }) ? null : "none";
    });
  }
}
"use strict";

function generateTopicVectors() {
  window.topicVectors = {};

  if (window.topic_word_probability_in_topic) {
    for (var x in window.topic_word_probability_in_topic) {
      var vector = [];

      for (var y in window.topic_word_probability_in_topic[x]) {
        vector.push(window.topic_word_probability_in_topic[x][y]);
      }

      window.topicVectors[x] = vector;
    }
  }
}

function generateParallelCoordinateData() {
  var words = window.word_distribution_in_corpora.keys();
  var topic_word_threshold = 0.3;
  window.topic_word_probability = {};
}
"use strict";

window.vueApp = new Vue({
  el: '#vue-app',
  data: {
    message: 'Hello user!',
    noneSelected: true,
    selectedPage: 1,
    playerDetail: {
      name: "<Player Name>"
    },
    overviewFilters: {},
    selectedMap: 1
  },
  methods: {
    selectPage: function selectPage(x) {
      this.selectedPage = x;

      if (x == 1) {
        initPage1(0);
      }

      if (x == 2) {
        initPage2();
      }

      if (x == 3) {
        initPage3();
      }
    }
  },
  mounted: function mounted() {
    console.log("Mounted");
    loadD3();
    loadJquery();
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy5qcyIsIm1haW4uanMiLCJuZXR3b3JrLmpzIiwicGFyYWxsZWwtY29vcmRpbmF0ZS5qcyIsInV0aWwuanMiLCJ2dWVfbW9kZWwuanMiXSwibmFtZXMiOlsibG9hZEpxdWVyeSIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xpY2siLCJzaWRlYmFyIiwibG9hZEQzIiwiY29uc29sZSIsImxvZyIsImQzIiwiY3N2IiwieCIsIndpbmRvdyIsImRvY3VtZW50X3RvcGljX3Byb2JhYmlsaXR5IiwieSIsInRvcGljX3dvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmEiLCJ6IiwidG9waWNfd29yZF9wcm9iYWJpbGl0eSIsImdlbmVyYXRlVG9waWNWZWN0b3JzIiwibG9hZFZpc3VhbGl6YXRpb25zIiwiaW5pdFBhZ2UxIiwidG9waWNfbnVtYmVyIiwidG9waWNfd29yZHMiLCJjb3JwdXNfd29yZHMiLCJpbml0U3RhY2tlZEJhckNoYXJ0IiwiZHJhdyIsImNvbmZpZyIsIm1lIiwiZG9tRWxlIiwiZWxlbWVudCIsInN0YWNrS2V5Iiwia2V5IiwiZGF0YSIsInZhbHVlcyIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsIndpZHRoIiwiaGVpZ2h0IiwieFNjYWxlIiwic2NhbGVMaW5lYXIiLCJyYW5nZVJvdW5kIiwieVNjYWxlIiwic2NhbGVCYW5kIiwicGFkZGluZyIsImNvbG9yIiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkyMCIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInlBeGlzIiwiYXhpc0xlZnQiLCJzdmciLCJzZWxlY3QiLCJhcHBlbmQiLCJhdHRyIiwic3RhY2siLCJrZXlzIiwib2Zmc2V0Iiwic3RhY2tPZmZzZXROb25lIiwibGF5ZXJzIiwiZG9tYWluIiwibWFwIiwiZCIsIm5pY2UiLCJsYXllciIsInNlbGVjdEFsbCIsImVudGVyIiwic3R5bGUiLCJpIiwiYmFuZHdpZHRoIiwiY2FsbCIsInRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWMiLCJpbml0UGFnZTIiLCJpbml0UGFnZTMiLCJsb2FkUGFyYWxsZWxDb29yZGluYXRlIiwiZ2V0MkRWZWN0b3JzIiwidmVjdG9ycyIsInN1Y2Nlc3NDYWxsYmFjayIsInJlcXVlc3QiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZG9uZSIsInJlc3BvbnNlIiwiZmFpbCIsImpxWEhSIiwidGV4dFN0YXR1cyIsImFsZXJ0Iiwic2NhbGUiLCJvcmRpbmFsIiwicmFuZ2VQb2ludHMiLCJkcmFnZ2luZyIsImxpbmUiLCJheGlzIiwib3JpZW50IiwiYmFja2dyb3VuZCIsImZvcmVncm91bmQiLCJlcnJvciIsImNhcnMiLCJkaW1lbnNpb25zIiwiZmlsdGVyIiwibGluZWFyIiwiZXh0ZW50IiwicCIsInJhbmdlIiwicGF0aCIsImciLCJiZWhhdmlvciIsImRyYWciLCJvcmlnaW4iLCJvbiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJldmVudCIsInNvcnQiLCJhIiwiYiIsInBvc2l0aW9uIiwidHJhbnNpdGlvbiIsImRlbGF5IiwiZHVyYXRpb24iLCJlYWNoIiwidGV4dCIsImJydXNoIiwiYnJ1c2hzdGFydCIsInYiLCJzb3VyY2VFdmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImFjdGl2ZXMiLCJlbXB0eSIsImV4dGVudHMiLCJldmVyeSIsInRvcGljVmVjdG9ycyIsInZlY3RvciIsInB1c2giLCJnZW5lcmF0ZVBhcmFsbGVsQ29vcmRpbmF0ZURhdGEiLCJ3b3JkcyIsIndvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmEiLCJ0b3BpY193b3JkX3RocmVzaG9sZCIsInZ1ZUFwcCIsIlZ1ZSIsImVsIiwibWVzc2FnZSIsIm5vbmVTZWxlY3RlZCIsInNlbGVjdGVkUGFnZSIsInBsYXllckRldGFpbCIsIm5hbWUiLCJvdmVydmlld0ZpbHRlcnMiLCJzZWxlY3RlZE1hcCIsIm1ldGhvZHMiLCJzZWxlY3RQYWdlIiwibW91bnRlZCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxVQUFULEdB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QUpaO0FBT0ZDLElBQUFBLGVBQWUsRUFBRSxFQVBmO0FBUUZDLElBQUFBLFdBQVcsRUFBRTtBQVJYLEdBRmM7QUFZcEJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxVQUFVLEVBQUUsb0JBQVMvSSxDQUFULEVBQVc7QUFDbkIsV0FBS3lJLFlBQUwsR0FBb0J6SSxDQUFwQjs7QUFDQSxVQUFJQSxDQUFDLElBQUksQ0FBVCxFQUFXO0FBQ1BTLFFBQUFBLFNBQVMsQ0FBQyxDQUFELENBQVQ7QUFDSDs7QUFDRCxVQUFJVCxDQUFDLElBQUksQ0FBVCxFQUFXO0FBQ1BnRSxRQUFBQSxTQUFTO0FBQ1o7O0FBQ0QsVUFBSWhFLENBQUMsSUFBSSxDQUFULEVBQVc7QUFDUGlFLFFBQUFBLFNBQVM7QUFDWjtBQUNKO0FBWkksR0FaVztBQTBCcEIrRSxFQUFBQSxPQUFPLEVBQUUsbUJBQVU7QUFDZnBKLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVo7QUFDQUYsSUFBQUEsTUFBTTtBQUNOTixJQUFBQSxVQUFVO0FBQ2I7QUE5Qm1CLENBQVIsQ0FBaEIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbG9hZEpxdWVyeSgpe1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIjdG9nZ2xlLXNpZGViYXJcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICQoJy51aS5zaWRlYmFyJylcbiAgICAgICAgICAgICAgICAuc2lkZWJhcigndG9nZ2xlJylcbiAgICAgICAgICAgIDtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH0pO1xufVxuIiwiZnVuY3Rpb24gbG9hZEQzKCl7XG4gICAgY29uc29sZS5sb2coXCJoZWxsb1wiKTtcbiAgICBkMy5jc3YoXCJkYXRhL2RvY3VtZW50X3RvcGljX3Byb2JhYmlsaXR5Lmpzb25cIiwgZnVuY3Rpb24oeCl7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eT0geDtcbiAgICAgICAgZDMuY3N2KFwiZGF0YS9kb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eS5qc29uXCIsIGZ1bmN0aW9uKHkpe1xuICAgICAgICAgICAgd2luZG93LnRvcGljX3dvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmE9IHk7XG4gICAgICAgICAgICBkMy5jc3YoXCJkYXRhL3RvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWMuanNvblwiLCBmdW5jdGlvbih6KXtcbiAgICAgICAgICAgICAgICB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eSA9IHo7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVUb3BpY1ZlY3RvcnMoKTsgLy9Mb2FkcyB2ZWN0b3JzIGluIHdpbmRvdy50b3BpY1ZlY3RvcnNcbiAgICAgICAgICAgICAgICBsb2FkVmlzdWFsaXphdGlvbnMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbG9hZFZpc3VhbGl6YXRpb25zKCl7XG5cbn1cblxuZnVuY3Rpb24gaW5pdFBhZ2UxKHRvcGljX251bWJlcil7XG5cblx0dmFyIHRvcGljX3dvcmRzID0gd2luZG93LmRvY3VtZW50X3RvcGljX3Byb2JhYmlsaXR5O1xuXHR2YXIgY29ycHVzX3dvcmRzID0gd2luZG93LnRvcGljX3dvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmE7XG5cblx0dmFyIGluaXRTdGFja2VkQmFyQ2hhcnQgPSB7XG5cdGRyYXc6IGZ1bmN0aW9uKGNvbmZpZykge1xuXHRcdGRlYnVnZ2VyXG5cdFx0dmFyIG1lID0gdGhpcyxcblx0XHRkb21FbGUgPSBjb25maWcuZWxlbWVudCxcblx0XHRzdGFja0tleSA9IGNvbmZpZy5rZXksXG5cdFx0ZGF0YSA9IGNvbmZpZy5kYXRhW2NvbmZpZy50b3BpY19udW1iZXJdLnZhbHVlcyxcblx0XHRtYXJnaW4gPSB7dG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDMwLCBsZWZ0OiA1MH0sXG5cdFx0d2lkdGggPSA5NjAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcblx0XHRoZWlnaHQgPSA1MDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbSxcblx0XHR4U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlUm91bmQoWzAsIHdpZHRoXSksXG5cdFx0eVNjYWxlID0gZDMuc2NhbGVCYW5kKCkucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSkucGFkZGluZygwLjEpLFxuXHRcdGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MjApLFxuXHRcdHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4U2NhbGUpLFxuXHRcdHlBeGlzID0gIGQzLmF4aXNMZWZ0KHlTY2FsZSksXG5cdFx0c3ZnID0gZDMuc2VsZWN0KFwiI1wiK2RvbUVsZSkuYXBwZW5kKFwic3ZnXCIpXG5cdFx0XHRcdC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcblx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG5cdFx0XHRcdC5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cblxuXHRcdHZhciBzdGFjayA9IGQzLnN0YWNrKClcblx0XHRcdC5rZXlzKHN0YWNrS2V5KVxuXHRcdFx0Lyoub3JkZXIoZDMuc3RhY2tPcmRlcikqL1xuXHRcdFx0Lm9mZnNldChkMy5zdGFja09mZnNldE5vbmUpO1xuXHRcblx0XHR2YXIgbGF5ZXJzPSBzdGFjayhkYXRhKTtcblx0XHRcdHlTY2FsZS5kb21haW4oZGF0YS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5rZXlzWzBdOyB9KSk7XG5cdFx0XHR4U2NhbGUuZG9tYWluKFswLCA5OTldKS5uaWNlKCk7XG5cblx0XHR2YXIgbGF5ZXIgPSBzdmcuc2VsZWN0QWxsKFwiLmxheWVyXCIpXG5cdFx0XHQuZGF0YShsYXllcnMpXG5cdFx0XHQuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG5cdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibGF5ZXJcIilcblx0XHRcdC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gY29sb3IoaSk7IH0pO1xuXG5cdFx0ICBsYXllci5zZWxlY3RBbGwoXCJyZWN0XCIpXG5cdFx0XHQgIC5kYXRhKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQ7IH0pXG5cdFx0XHQuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG5cdFx0XHQgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5U2NhbGUoZC5kYXRhLnZhbHVlc1swXSk7IH0pXG5cdFx0XHQgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4U2NhbGUoZFswXSk7IH0pXG5cdFx0XHQgIC5hdHRyKFwiaGVpZ2h0XCIsIHlTY2FsZS5iYW5kd2lkdGgoKSlcblx0XHRcdCAgLmF0dHIoXCJ3aWR0aFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4U2NhbGUoZFsxXSkgLSB4U2NhbGUoZFswXSkgfSk7XG4gICAgXG5cdFx0XHRzdmcuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImF4aXMgYXhpcy0teFwiKVxuXHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIChoZWlnaHQrNSkgKyBcIilcIilcblx0XHRcdC5jYWxsKHhBeGlzKTtcblxuXHRcdFx0c3ZnLmFwcGVuZChcImdcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzIGF4aXMtLXlcIilcblx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsMClcIilcblx0XHRcdC5jYWxsKHlBeGlzKTtcdFx0XHRcdFx0XHRcdFxuXHRcdH1cblx0fVxuXHR2YXIgZGF0YSA9IHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljO1xuXHQvLyB2YXIgZGF0YSA9IFt7XCJkYXRlXCI6XCJURVhUXCIsXCIwMVwiOjU5LFwiMDNcIjozMyxcIjA0XCI6MjN9LHtcImRhdGVcIjpcIkRJRkZcIixcIjAyXCI6ODgsXCIwM1wiOjEsXCIwNFwiOjMwfSx7XCJkYXRlXCI6XCJFVENIXCIsXCIwMlwiOjc4LFwiMDNcIjo4MSxcIjA0XCI6NzB9LHtcImRhdGVcIjpcIkFOTkxcIixcIjAxXCI6NTMsXCIwM1wiOjEyLFwiMDVcIjoxOH0se1wiZGF0ZVwiOlwiRkNPVFwiLFwiMDFcIjo4NCxcIjAyXCI6MjcsXCIwNVwiOjE2fSx7XCJkYXRlXCI6XCJQUk5UXCIsXCIwMUFcIjo3MixcIjAxQVwiOjE0LFwiMDRCXCI6NDJ9XTtcblxuLy92YXIgZGF0YSA9IFt7XCJkYXRlXCI6XCJURVhUXCIsXCJURVhUMDFcIjo1OSxcIlRFWFQwM1wiOjMzLFwiVEVYVDA0XCI6MjN9LHtcImRhdGVcIjpcIkRJRkZcIixcIkRJRkYwMlwiOjg4LFwiRElGRjAzXCI6MSxcIkRJRkYwNFwiOjMwfSx7XCJkYXRlXCI6XCJFVENIXCIsXCJFVENIMDJcIjo3OCxcIkVUQ0gwM1wiOjgxLFwiRVRDSDA0XCI6NzB9LHtcImRhdGVcIjpcIkFOTkxcIixcIkFOTkwwMVwiOjUzLFwiQU5OTDAzXCI6MTIsXCJBTk5MMDVcIjoxOH0se1wiZGF0ZVwiOlwiRkNPVFwiLFwiRkNPVDAxXCI6ODQsXCJGQ09UMDJcIjoyNyxcIkZDT1QwNVwiOjE2fSx7XCJkYXRlXCI6XCJQUk5UXCIsXCJQUk5UMDFBXCI6NzIsXCJQUk5UMDFBXCI6MTQsXCJQUk5UMDRCXCI6NDJ9XTtcbi8vdmFyIGtleSA9IFtcIlRFWFQwMVwiLFwiVEVYVDAyXCIsIFwiVEVYVDAzXCIsIFwiVEVYVDA0XCIsXCJESUZGMDFcIixcIkRJRkYwMlwiLCBcIkRJRkYwM1wiLCBcIkRJRkYwNFwiLFwiRElGRjA1XCIsXCJFVENIMDFcIixcIkVUQ0gwMlwiLCBcIkVUQ0gwM1wiLCBcIkVUQ0gwNFwiLCBcIkVUQ0gwNVwiLFwiQU5OTDAxXCIsXCJBTk5MMDJcIiwgXCJBTk5MMDNcIiwgXCJBTk5MMDRcIiwgXCJBTk5MMDVcIixcIkZDT1QwMVwiLFwiRkNPVDAyXCIsIFwiRkNPVDAzXCIsIFwiRkNPVDA0XCIsIFwiRkNPVDA1XCIsIFwiUFJOVDAxQVwiLCBcIlBSTlQwMUJcIiwgXCJQUk5UMDJBXCIsIFwiUFJOVDAyQlwiLCBcIlBSTlQwMUFcIiwgXCJQUk5UMDNCXCIsIFwiUFJOVDA0QVwiLCBcIlBSTlQwNEJcIl07XG4gIFxuXHR2YXIga2V5ID0gW1wiMDFcIixcIjAyXCJdO1xuXHRkZWJ1Z2dlclxuXHRpbml0U3RhY2tlZEJhckNoYXJ0LmRyYXcoe1xuXHRcdGRhdGE6IGRhdGEsXG5cdFx0a2V5OiBrZXksXG5cdFx0ZWxlbWVudDogJ3N0YWNrZWQtYmFyJyxcblx0XHR0b3BpY19udW1iZXI6IHRvcGljX251bWJlclxuXHR9KTtcblxufVxuXG5mdW5jdGlvbiBpbml0UGFnZTIoKXtcblxufVxuXG5mdW5jdGlvbiBpbml0UGFnZTMoKXtcbiAgICBsb2FkUGFyYWxsZWxDb29yZGluYXRlKCk7XG59IiwiZnVuY3Rpb24gZ2V0MkRWZWN0b3JzKHZlY3RvcnMsIHN1Y2Nlc3NDYWxsYmFjayl7XG4gICAgdmFyIHJlcXVlc3QgPSAkLmFqYXgoe1xuICAgICAgICB1cmw6IFwiL2dldDJEVmVjdG9yc1wiLFxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBkYXRhOiB2ZWN0b3JzXG4gICAgICB9KTtcbiAgICAgICBcbiAgICAgIHJlcXVlc3QuZG9uZShmdW5jdGlvbiggcmVzcG9uc2UgKSB7XG4gICAgICAgIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICB9KTtcbiAgICAgICBcbiAgICAgIHJlcXVlc3QuZmFpbChmdW5jdGlvbigganFYSFIsIHRleHRTdGF0dXMgKSB7XG4gICAgICAgIGFsZXJ0KCBcIlJlcXVlc3QgZmFpbGVkOiBcIiArIHRleHRTdGF0dXMgKTtcbiAgICAgIH0pO1xufVxuXG4iLCJmdW5jdGlvbiBsb2FkUGFyYWxsZWxDb29yZGluYXRlKCl7XG4gICAgdmFyIG1hcmdpbiA9IHt0b3A6IDMwLCByaWdodDogMTAsIGJvdHRvbTogMTAsIGxlZnQ6IDEwfSxcbiAgICAgICAgd2lkdGggPSA5NjAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCxcbiAgICAgICAgaGVpZ2h0ID0gNTAwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICB2YXIgeCA9IGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZVBvaW50cyhbMCwgd2lkdGhdLCAxKSxcbiAgICAgICAgeSA9IHt9LFxuICAgICAgICBkcmFnZ2luZyA9IHt9O1xuXG4gICAgdmFyIGxpbmUgPSBkMy5zdmcubGluZSgpLFxuICAgICAgICBheGlzID0gZDMuc3ZnLmF4aXMoKS5vcmllbnQoXCJsZWZ0XCIpLFxuICAgICAgICBiYWNrZ3JvdW5kLFxuICAgICAgICBmb3JlZ3JvdW5kO1xuXG4gICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwic3ZnXCIpXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG4gICAgLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIGQzLmNzdihcImNhcnMuY3N2XCIsIGZ1bmN0aW9uKGVycm9yLCBjYXJzKSB7XG5cbiAgICAvLyBFeHRyYWN0IHRoZSBsaXN0IG9mIGRpbWVuc2lvbnMgYW5kIGNyZWF0ZSBhIHNjYWxlIGZvciBlYWNoLlxuICAgIHguZG9tYWluKGRpbWVuc2lvbnMgPSBkMy5rZXlzKGNhcnNbMF0pLmZpbHRlcihmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBkICE9IFwibmFtZVwiICYmICh5W2RdID0gZDMuc2NhbGUubGluZWFyKClcbiAgICAgICAgICAgIC5kb21haW4oZDMuZXh0ZW50KGNhcnMsIGZ1bmN0aW9uKHApIHsgcmV0dXJuICtwW2RdOyB9KSlcbiAgICAgICAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSkpO1xuICAgIH0pKTtcblxuICAgIC8vIEFkZCBncmV5IGJhY2tncm91bmQgbGluZXMgZm9yIGNvbnRleHQuXG4gICAgYmFja2dyb3VuZCA9IHN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYWNrZ3JvdW5kXCIpXG4gICAgICAgIC5zZWxlY3RBbGwoXCJwYXRoXCIpXG4gICAgICAgIC5kYXRhKGNhcnMpXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmF0dHIoXCJkXCIsIHBhdGgpO1xuXG4gICAgLy8gQWRkIGJsdWUgZm9yZWdyb3VuZCBsaW5lcyBmb3IgZm9jdXMuXG4gICAgZm9yZWdyb3VuZCA9IHN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJmb3JlZ3JvdW5kXCIpXG4gICAgICAgIC5zZWxlY3RBbGwoXCJwYXRoXCIpXG4gICAgICAgIC5kYXRhKGNhcnMpXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmF0dHIoXCJkXCIsIHBhdGgpO1xuXG4gICAgLy8gQWRkIGEgZ3JvdXAgZWxlbWVudCBmb3IgZWFjaCBkaW1lbnNpb24uXG4gICAgdmFyIGcgPSBzdmcuc2VsZWN0QWxsKFwiLmRpbWVuc2lvblwiKVxuICAgICAgICAuZGF0YShkaW1lbnNpb25zKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkaW1lbnNpb25cIilcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB4KGQpICsgXCIpXCI7IH0pXG4gICAgICAgIC5jYWxsKGQzLmJlaGF2aW9yLmRyYWcoKVxuICAgICAgICAgICAgLm9yaWdpbihmdW5jdGlvbihkKSB7IHJldHVybiB7eDogeChkKX07IH0pXG4gICAgICAgICAgICAub24oXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZHJhZ2dpbmdbZF0gPSB4KGQpO1xuICAgICAgICAgICAgYmFja2dyb3VuZC5hdHRyKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJkcmFnXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGRyYWdnaW5nW2RdID0gTWF0aC5taW4od2lkdGgsIE1hdGgubWF4KDAsIGQzLmV2ZW50LngpKTtcbiAgICAgICAgICAgIGZvcmVncm91bmQuYXR0cihcImRcIiwgcGF0aCk7XG4gICAgICAgICAgICBkaW1lbnNpb25zLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gcG9zaXRpb24oYSkgLSBwb3NpdGlvbihiKTsgfSk7XG4gICAgICAgICAgICB4LmRvbWFpbihkaW1lbnNpb25zKTtcbiAgICAgICAgICAgIGcuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIHBvc2l0aW9uKGQpICsgXCIpXCI7IH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ2VuZFwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBkZWxldGUgZHJhZ2dpbmdbZF07XG4gICAgICAgICAgICB0cmFuc2l0aW9uKGQzLnNlbGVjdCh0aGlzKSkuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHgoZCkgKyBcIilcIik7XG4gICAgICAgICAgICB0cmFuc2l0aW9uKGZvcmVncm91bmQpLmF0dHIoXCJkXCIsIHBhdGgpO1xuICAgICAgICAgICAgYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKVxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgICAgICAuZGVsYXkoNTAwKVxuICAgICAgICAgICAgICAgIC5kdXJhdGlvbigwKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidmlzaWJpbGl0eVwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pKTtcblxuICAgIC8vIEFkZCBhbiBheGlzIGFuZCB0aXRsZS5cbiAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXNcIilcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkgeyBkMy5zZWxlY3QodGhpcykuY2FsbChheGlzLnNjYWxlKHlbZF0pKTsgfSlcbiAgICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJ5XCIsIC05KVxuICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9KTtcblxuICAgIC8vIEFkZCBhbmQgc3RvcmUgYSBicnVzaCBmb3IgZWFjaCBheGlzLlxuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYnJ1c2hcIilcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNhbGwoeVtkXS5icnVzaCA9IGQzLnN2Zy5icnVzaCgpLnkoeVtkXSkub24oXCJicnVzaHN0YXJ0XCIsIGJydXNoc3RhcnQpLm9uKFwiYnJ1c2hcIiwgYnJ1c2gpKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdEFsbChcInJlY3RcIilcbiAgICAgICAgLmF0dHIoXCJ4XCIsIC04KVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIDE2KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHBvc2l0aW9uKGQpIHtcbiAgICB2YXIgdiA9IGRyYWdnaW5nW2RdO1xuICAgIHJldHVybiB2ID09IG51bGwgPyB4KGQpIDogdjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uKGcpIHtcbiAgICByZXR1cm4gZy50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIHRoZSBwYXRoIGZvciBhIGdpdmVuIGRhdGEgcG9pbnQuXG4gICAgZnVuY3Rpb24gcGF0aChkKSB7XG4gICAgcmV0dXJuIGxpbmUoZGltZW5zaW9ucy5tYXAoZnVuY3Rpb24ocCkgeyByZXR1cm4gW3Bvc2l0aW9uKHApLCB5W3BdKGRbcF0pXTsgfSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJydXNoc3RhcnQoKSB7XG4gICAgZDMuZXZlbnQuc291cmNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlcyBhIGJydXNoIGV2ZW50LCB0b2dnbGluZyB0aGUgZGlzcGxheSBvZiBmb3JlZ3JvdW5kIGxpbmVzLlxuICAgIGZ1bmN0aW9uIGJydXNoKCkge1xuICAgIHZhciBhY3RpdmVzID0gZGltZW5zaW9ucy5maWx0ZXIoZnVuY3Rpb24ocCkgeyByZXR1cm4gIXlbcF0uYnJ1c2guZW1wdHkoKTsgfSksXG4gICAgICAgIGV4dGVudHMgPSBhY3RpdmVzLm1hcChmdW5jdGlvbihwKSB7IHJldHVybiB5W3BdLmJydXNoLmV4dGVudCgpOyB9KTtcbiAgICBmb3JlZ3JvdW5kLnN0eWxlKFwiZGlzcGxheVwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVzLmV2ZXJ5KGZ1bmN0aW9uKHAsIGkpIHtcbiAgICAgICAgcmV0dXJuIGV4dGVudHNbaV1bMF0gPD0gZFtwXSAmJiBkW3BdIDw9IGV4dGVudHNbaV1bMV07XG4gICAgICAgIH0pID8gbnVsbCA6IFwibm9uZVwiO1xuICAgIH0pO1xuICAgIH1cblxufSIsImZ1bmN0aW9uIGdlbmVyYXRlVG9waWNWZWN0b3JzKCl7XG4gICAgd2luZG93LnRvcGljVmVjdG9ycyA9IHt9O1xuICAgIGlmKHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljKXtcbiAgICAgICAgZm9yKHZhciB4IGluIHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljKXtcbiAgICAgICAgICAgIHZhciB2ZWN0b3IgPSBbXTtcbiAgICAgICAgICAgIGZvcih2YXIgeSBpbiB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpY1t4XSl7XG4gICAgICAgICAgICAgICAgdmVjdG9yLnB1c2god2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWNbeF1beV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LnRvcGljVmVjdG9yc1t4XSA9IHZlY3RvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVQYXJhbGxlbENvb3JkaW5hdGVEYXRhKCl7XG4gICAgdmFyIHdvcmRzID0gd2luZG93LndvcmRfZGlzdHJpYnV0aW9uX2luX2NvcnBvcmEua2V5cygpO1xuICAgIHZhciB0b3BpY193b3JkX3RocmVzaG9sZCA9IDAuMztcbiAgICB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eSA9e307XG59XG5cbiIsIndpbmRvdy52dWVBcHAgPSBuZXcgVnVlKHtcbiAgICBlbDogJyN2dWUtYXBwJyxcbiAgICBkYXRhOiB7XG4gICAgICAgIG1lc3NhZ2U6ICdIZWxsbyB1c2VyIScsXG4gICAgICAgIG5vbmVTZWxlY3RlZDogdHJ1ZSxcbiAgICAgICAgc2VsZWN0ZWRQYWdlOiAxLFxuICAgICAgICBwbGF5ZXJEZXRhaWw6IHtcbiAgICAgICAgICAgIG5hbWU6IFwiPFBsYXllciBOYW1lPlwiXG4gICAgICAgIH0sXG4gICAgICAgIG92ZXJ2aWV3RmlsdGVyczoge30sXG4gICAgICAgIHNlbGVjdGVkTWFwOiAxXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICAgIHNlbGVjdFBhZ2U6IGZ1bmN0aW9uKHgpe1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFBhZ2UgPSB4O1xuICAgICAgICAgICAgaWYgKHggPT0gMSl7XG4gICAgICAgICAgICAgICAgaW5pdFBhZ2UxKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHggPT0gMil7XG4gICAgICAgICAgICAgICAgaW5pdFBhZ2UyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeCA9PSAzKXtcbiAgICAgICAgICAgICAgICBpbml0UGFnZTMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW91bnRlZDogZnVuY3Rpb24oKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJNb3VudGVkXCIpO1xuICAgICAgICBsb2FkRDMoKTtcbiAgICAgICAgbG9hZEpxdWVyeSgpO1xuICAgIH1cbn0pOyJdfQ==
