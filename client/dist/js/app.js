"use strict";

function loadJquery() {
  $(document).ready(function () {
    $("#toggle-sidebar").click(function () {
      $('.ui.sidebar').sidebar('toggle');
    });
  });
}
"use strict";

function loadD3() {
  console.log("hello");
  d3.json("data/document_topic_probability.json", function (x) {
    window.document_topic_probability = x;
    d3.json("data/topic_word_distribution_in_corpora.json", function (y) {
      window.word_distribution_in_corpora = y;
      d3.json("data/topic_word_probability_in_topic.json", function (z) {
        window.topic_word_probability = z;
        generateTopicVectors(); //Loads vectors in window.topicVectors

        loadVisualizations();
      });
    });
  });
}

function loadVisualizations() {} // pass integer of topic_number


function initPage1(topic_number) {
  var topic_words = window.document_topic_probability;
  var data = window.topic_word_probability;
  var topic_distribution_in_corpa = window.word_distribution_in_corpora;
  var final_data = [];
  var data = data[topic_number][0];

  for (var i = 0; i < data.length; i++) {
    var temp = {};
    var key = Object.keys(data[i])[0];
    var val = data[i][Object.keys(data[i])[0]];
    var overall = topic_distribution_in_corpa[key];
    temp.State = key;
    temp.topic_frequency = val;
    temp.overall = overall;
    temp.total = temp.topic_frequency + temp.overall;
    final_data.push(temp);
  }

  var bb = document.querySelector('#stacked-bar')
        .getBoundingClientRect(),
        width = bb.right - bb.left;

  var data = final_data;
  var height = data.length * 25;
  var svg = d3.select("#stacked-bar").append("svg").attr("width", width).attr("height", height),
      margin = {
    top: 20,
    right: 20,
    bottom: 30,
    left: 50
  },
      width = +svg.attr("width") - margin.left - margin.right,
      height = +svg.attr("height") - margin.top - margin.bottom,
      g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  var y = d3.scaleBand() // x = d3.scaleBand()	
  .rangeRound([0, height]) // .rangeRound([0, width])
  .paddingInner(0.25).align(0.1);
  var x = d3.scaleLinear() // y = d3.scaleLinear()
  .rangeRound([0, width]); // .rangeRound([height, 0]);

  var z = d3.scaleOrdinal().range(["#C8423E", "#A1C7E0"]);
  var keys = ["topic_frequency", "overall"];
  data.sort(function (a, b) {
    return b.total - a.total;
  });
  y.domain(data.map(function (d) {
    return d.State;
  })); // x.domain...

  x.domain([0, d3.max(data, function (d) {
    return d.total;
  })]).nice(); // y.domain...

  z.domain(keys);
  g.append("g").selectAll("g").data(d3.stack().keys(keys)(data)).enter().append("g").attr("fill", function (d) {
    return z(d.key);
  }).selectAll("rect").data(function (d) {
    return d;
  }).enter().append("rect").attr("y", function (d) {
    return y(d.data.State);
  }) //.attr("x", function(d) { return x(d.data.State); })
  .attr("x", function (d) {
    return x(d[0]);
  }) //.attr("y", function(d) { return y(d[1]); })	
  .attr("width", function (d) {
    return x(d[1]) - x(d[0]);
  }) //.attr("height", function(d) { return y(d[0]) - y(d[1]); })
  .attr("height", y.bandwidth())
  .attr("opacity", 0.8); //.attr("width", x.bandwidth());	

  g.append("g").attr("class", "axis").attr("transform", "translate(0,0)") //  .attr("transform", "translate(0," + height + ")")
  .call(d3.axisLeft(y)); //   .call(d3.axisBottom(x));

  g.append("g").attr("class", "axis").attr("transform", "translate(0," + height + ")") // New line
  .call(d3.axisBottom(x).ticks(null, "s")) //  .call(d3.axisLeft(y).ticks(null, "s"))
  .append("text").attr("y", 2) //     .attr("y", 2)
  .attr("x", x(x.ticks().pop()) + 0.5) //     .attr("y", y(y.ticks().pop()) + 0.5)
  .attr("dy", "0.32em") //     .attr("dy", "0.32em")
  var legend = g.append("g").attr("font-family", "sans-serif").attr("font-size", 10).attr("text-anchor", "end").selectAll("g").data(keys.slice().reverse()).enter().append("g") //.attr("transform", function(d, i) { return "translate(0," + i * 20 + ")"; });
  .attr("transform", function (d, i) {
    return "translate(-50," + (300 + i * 20) + ")";
  });
  legend.append("rect").attr("x", width - 19).attr("width", 19).attr("height", 19).attr("fill", z);
  legend.append("text").attr("x", width - 24).attr("y", 9.5).attr("dy", "0.32em").text(function (d) {
    return d;
  });
}

function initPage2() {}

function initPage3() {
  loadParallelCoordinate();
}
"use strict";

//vectors format: Map[string(topic_id): List[float]]
function get2DVectors(vectors, successCallback) {
  var request = $.ajax({
    url: "/get2DVectors",
    method: "POST",
    data: vectors
  });
  request.done(function (response) {
    successCallback(response);
  });
  request.fail(function (jqXHR, textStatus) {
    alert("Request failed: " + textStatus);
  });
} // docs format: List[List[string(word)]]


function getWord2VecClusters(docs, successCallback) {
  var request = $.ajax({
    url: "/get2DVectors",
    method: "POST",
    data: {
      docs: docs
    }
  });
  request.done(function (response) {
    successCallback(response);
  });
  request.fail(function (jqXHR, textStatus) {
    alert("Request failed: " + textStatus);
  });
}
"use strict";

function loadParallelCoordinate() {
  var margin = {
    top: 30,
    right: 10,
    bottom: 10,
    left: 10
  },
      width = 960 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;
  var x = d3.scale.ordinal().rangePoints([0, width], 1),
      y = {},
      dragging = {};
  var line = d3.svg.line(),
      axis = d3.svg.axis().orient("left"),
      background,
      foreground;
  var svg = d3.select("body").append("svg").attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
  d3.csv("cars.csv", function (error, cars) {
    // Extract the list of dimensions and create a scale for each.
    x.domain(dimensions = d3.keys(cars[0]).filter(function (d) {
      return d != "name" && (y[d] = d3.scale.linear().domain(d3.extent(cars, function (p) {
        return +p[d];
      })).range([height, 0]));
    })); // Add grey background lines for context.

    background = svg.append("g").attr("class", "background").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add blue foreground lines for focus.

    foreground = svg.append("g").attr("class", "foreground").selectAll("path").data(cars).enter().append("path").attr("d", path); // Add a group element for each dimension.

    var g = svg.selectAll(".dimension").data(dimensions).enter().append("g").attr("class", "dimension").attr("transform", function (d) {
      return "translate(" + x(d) + ")";
    }).call(d3.behavior.drag().origin(function (d) {
      return {
        x: x(d)
      };
    }).on("dragstart", function (d) {
      dragging[d] = x(d);
      background.attr("visibility", "hidden");
    }).on("drag", function (d) {
      dragging[d] = Math.min(width, Math.max(0, d3.event.x));
      foreground.attr("d", path);
      dimensions.sort(function (a, b) {
        return position(a) - position(b);
      });
      x.domain(dimensions);
      g.attr("transform", function (d) {
        return "translate(" + position(d) + ")";
      });
    }).on("dragend", function (d) {
      delete dragging[d];
      transition(d3.select(this)).attr("transform", "translate(" + x(d) + ")");
      transition(foreground).attr("d", path);
      background.attr("d", path).transition().delay(500).duration(0).attr("visibility", null);
    })); // Add an axis and title.

    g.append("g").attr("class", "axis").each(function (d) {
      d3.select(this).call(axis.scale(y[d]));
    }).append("text").style("text-anchor", "middle").attr("y", -9).text(function (d) {
      return d;
    }); // Add and store a brush for each axis.

    g.append("g").attr("class", "brush").each(function (d) {
      d3.select(this).call(y[d].brush = d3.svg.brush().y(y[d]).on("brushstart", brushstart).on("brush", brush));
    }).selectAll("rect").attr("x", -8).attr("width", 16);
  });

  function position(d) {
    var v = dragging[d];
    return v == null ? x(d) : v;
  }

  function transition(g) {
    return g.transition().duration(500);
  } // Returns the path for a given data point.


  function path(d) {
    return line(dimensions.map(function (p) {
      return [position(p), y[p](d[p])];
    }));
  }

  function brushstart() {
    d3.event.sourceEvent.stopPropagation();
  } // Handles a brush event, toggling the display of foreground lines.


  function brush() {
    var actives = dimensions.filter(function (p) {
      return !y[p].brush.empty();
    }),
        extents = actives.map(function (p) {
      return y[p].brush.extent();
    });
    foreground.style("display", function (d) {
      return actives.every(function (p, i) {
        return extents[i][0] <= d[p] && d[p] <= extents[i][1];
      }) ? null : "none";
    });
  }
}
"use strict";

function generateTopicVectors() {
  window.topicVectors = {};

  if (window.topic_word_probability_in_topic) {
    for (var x in window.topic_word_probability_in_topic) {
      var vector = [];

      for (var y in window.topic_word_probability_in_topic[x]) {
        vector.push(window.topic_word_probability_in_topic[x][y]);
      }

      window.topicVectors[x] = vector;
    }
  }
}

function generateParallelCoordinateData() {
  var words = window.word_distribution_in_corpora.keys();
  var topic_word_threshold = 0.3;
  window.topic_word_probability.map(function (x) {});
}
"use strict";

window.vueApp = new Vue({
  el: '#vue-app',
  data: {
    message: 'Hello user!',
    noneSelected: true,
    selectedPage: 1,
    playerDetail: {
      name: "<Player Name>"
    },
    overviewFilters: {},
    selectedMap: 1
  },
  methods: {
    selectPage: function selectPage(x) {
      this.selectedPage = x;

      if (x == 1) {
        initPage1(0);
      }

      if (x == 2) {
        initPage2();
      }

      if (x == 3) {
        initPage3();
      }
    }
  },
  mounted: function mounted() {
    console.log("Mounted");
    loadD3();
    loadJquery();
  }
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50cy5qcyIsIm1haW4uanMiLCJuZXR3b3JrLmpzIiwicGFyYWxsZWwtY29vcmRpbmF0ZS5qcyIsInV0aWwuanMiLCJ2dWVfbW9kZWwuanMiXSwibmFtZXMiOlsibG9hZEpxdWVyeSIsIiQiLCJkb2N1bWVudCIsInJlYWR5IiwiY2xpY2siLCJzaWRlYmFyIiwibG9hZEQzIiwiY29uc29sZSIsImxvZyIsImQzIiwianNvbiIsIngiLCJ3aW5kb3ciLCJkb2N1bWVudF90b3BpY19wcm9iYWJpbGl0eSIsInkiLCJ3b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhIiwieiIsInRvcGljX3dvcmRfcHJvYmFiaWxpdHkiLCJnZW5lcmF0ZVRvcGljVmVjdG9ycyIsImxvYWRWaXN1YWxpemF0aW9ucyIsImluaXRQYWdlMSIsInRvcGljX251bWJlciIsInRvcGljX3dvcmRzIiwiZGF0YSIsInRvcGljX2Rpc3RyaWJ1dGlvbl9pbl9jb3JwYSIsImZpbmFsX2RhdGEiLCJpIiwibGVuZ3RoIiwidGVtcCIsImtleSIsIk9iamVjdCIsImtleXMiLCJ2YWwiLCJvdmVyYWxsIiwiU3RhdGUiLCJ0b3BpY19mcmVxdWVuY3kiLCJ0b3RhbCIsInB1c2giLCJoZWlnaHQiLCJzdmciLCJzZWxlY3QiLCJhcHBlbmQiLCJhdHRyIiwibWFyZ2luIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Iiwid2lkdGgiLCJnIiwic2NhbGVCYW5kIiwicmFuZ2VSb3VuZCIsInBhZGRpbmdJbm5lciIsImFsaWduIiwic2NhbGVMaW5lYXIiLCJzY2FsZU9yZGluYWwiLCJyYW5nZSIsInNvcnQiLCJhIiwiYiIsImRvbWFpbiIsIm1hcCIsImQiLCJtYXgiLCJuaWNlIiwic2VsZWN0QWxsIiwic3RhY2siLCJlbnRlciIsImJhbmR3aWR0aCIsImNhbGwiLCJheGlzTGVmdCIsImF4aXNCb3R0b20iLCJ0aWNrcyIsInBvcCIsInRleHQiLCJsZWdlbmQiLCJzbGljZSIsInJldmVyc2UiLCJpbml0UGFnZTIiLCJpbml0UGFnZTMiLCJsb2FkUGFyYWxsZWxDb29yZGluYXRlIiwiZ2V0MkRWZWN0b3JzIiwidmVjdG9ycyIsInN1Y2Nlc3NDYWxsYmFjayIsInJlcXVlc3QiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZG9uZSIsInJlc3BvbnNlIiwiZmFpbCIsImpxWEhSIiwidGV4dFN0YXR1cyIsImFsZXJ0IiwiZ2V0V29yZDJWZWNDbHVzdGVycyIsImRvY3MiLCJzY2FsZSIsIm9yZGluYWwiLCJyYW5nZVBvaW50cyIsImRyYWdnaW5nIiwibGluZSIsImF4aXMiLCJvcmllbnQiLCJiYWNrZ3JvdW5kIiwiZm9yZWdyb3VuZCIsImNzdiIsImVycm9yIiwiY2FycyIsImRpbWVuc2lvbnMiLCJmaWx0ZXIiLCJsaW5lYXIiLCJleHRlbnQiLCJwIiwicGF0aCIsImJlaGF2aW9yIiwiZHJhZyIsIm9yaWdpbiIsIm9uIiwiTWF0aCIsIm1pbiIsImV2ZW50IiwicG9zaXRpb24iLCJ0cmFuc2l0aW9uIiwiZGVsYXkiLCJkdXJhdGlvbiIsImVhY2giLCJzdHlsZSIsImJydXNoIiwiYnJ1c2hzdGFydCIsInYiLCJzb3VyY2VFdmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImFjdGl2ZXMiLCJlbXB0eSIsImV4dGVudHMiLCJldmVyeSIsInRvcGljVmVjdG9ycyIsInRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWMiLCJ2ZWN0b3IiLCJnZW5lcmF0ZVBhcmFsbGVsQ29vcmRpbmF0ZURhdGEiLCJ3b3JkcyIsInRvcGljX3dvcmRfdGhyZXNob2xkIiwidnVlQXBwIiwiVnVlIiwiZWwiLCJtZXNzYWdlIiwibm9uZVNlbGVjdGVkIiwic2VsZWN0ZWRQYWdlIiwicGxheWVyRGV0YWlsIiwibmFtZSIsIm92ZXJ2aWV3RmlsdGVycyIsInNlbGVjdGVkTWFwIiwibWV0aG9kcyIsInNlbGVjdFBhZ2UiLCJtb3VudGVkIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLFVBQVQsR0FBcUI7QUFDakJDLEVBQUFBLENBQUMsQ0FBQ0MsUUFB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VUFBVTtBQUNiO0FBOUJtQixDQUFSLENBQWhCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGxvYWRKcXVlcnkoKXtcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICAkKFwiI3RvZ2dsZS1zaWRlYmFyXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAkKCcudWkuc2lkZWJhcicpXG4gICAgICAgICAgICAgICAgLnNpZGViYXIoJ3RvZ2dsZScpXG4gICAgICAgICAgICA7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICB9KTtcbn1cbiIsImZ1bmN0aW9uIGxvYWREMygpe1xuICAgIGNvbnNvbGUubG9nKFwiaGVsbG9cIik7XG4gICAgZDMuanNvbihcImRhdGEvZG9jdW1lbnRfdG9waWNfcHJvYmFiaWxpdHkuanNvblwiLCBmdW5jdGlvbih4KXtcbiAgICAgICAgd2luZG93LmRvY3VtZW50X3RvcGljX3Byb2JhYmlsaXR5PSB4O1xuICAgICAgICBkMy5qc29uKFwiZGF0YS90b3BpY193b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhLmpzb25cIiwgZnVuY3Rpb24oeSl7XG4gICAgICAgICAgICB3aW5kb3cud29yZF9kaXN0cmlidXRpb25faW5fY29ycG9yYT0geTtcbiAgICAgICAgICAgIGQzLmpzb24oXCJkYXRhL3RvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWMuanNvblwiLCBmdW5jdGlvbih6KXtcbiAgICAgICAgICAgICAgICB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eSA9IHo7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVUb3BpY1ZlY3RvcnMoKTsgLy9Mb2FkcyB2ZWN0b3JzIGluIHdpbmRvdy50b3BpY1ZlY3RvcnNcbiAgICAgICAgICAgICAgICBsb2FkVmlzdWFsaXphdGlvbnMoKTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkVmlzdWFsaXphdGlvbnMoKXtcblxufVxuXG4vLyBwYXNzIGludGVnZXIgb2YgdG9waWNfbnVtYmVyXG5mdW5jdGlvbiBpbml0UGFnZTEodG9waWNfbnVtYmVyKXtcblxuXHR2YXIgdG9waWNfd29yZHMgPSB3aW5kb3cuZG9jdW1lbnRfdG9waWNfcHJvYmFiaWxpdHk7XG5cdHZhciBkYXRhID0gd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHk7XG5cdHZhciB0b3BpY19kaXN0cmlidXRpb25faW5fY29ycGEgPSB3aW5kb3cud29yZF9kaXN0cmlidXRpb25faW5fY29ycG9yYTtcblxuXHR2YXIgZmluYWxfZGF0YSA9W107XG5cdHZhciBkYXRhID0gZGF0YVt0b3BpY19udW1iZXJdWzBdO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgdGVtcCA9e31cblx0XHR2YXIga2V5ID0gT2JqZWN0LmtleXMoZGF0YVtpXSlbMF07XG5cdFx0dmFyIHZhbCA9IGRhdGFbaV1bT2JqZWN0LmtleXMoZGF0YVtpXSlbMF1dO1xuXHRcdHZhciBvdmVyYWxsID0gdG9waWNfZGlzdHJpYnV0aW9uX2luX2NvcnBhW2tleV07XG5cdFx0dGVtcC5TdGF0ZSA9IGtleTtcblx0XHR0ZW1wLnRvcGljX2ZyZXF1ZW5jeSA9IHZhbDtcblx0XHR0ZW1wLm92ZXJhbGwgPSBvdmVyYWxsO1xuXHRcdHRlbXAudG90YWwgPSB0ZW1wLnRvcGljX2ZyZXF1ZW5jeSArIHRlbXAub3ZlcmFsbDtcblx0XHRmaW5hbF9kYXRhLnB1c2godGVtcCk7XG5cdH1cblx0dmFyIGRhdGEgPSBmaW5hbF9kYXRhO1xuICB2YXIgaGVpZ2h0ID1kYXRhLmxlbmd0aCAqIDIwOyAgXG5cdHZhciBzdmcgPSBkMy5zZWxlY3QoXCIjc3RhY2tlZC1iYXJcIikuYXBwZW5kKFwic3ZnXCIpLmF0dHIoXCJ3aWR0aFwiLCA5NjApLmF0dHIoXCJoZWlnaHRcIixoZWlnaHQpLFxuICAgIG1hcmdpbiA9IHt0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDUwfSxcbiAgICB3aWR0aCA9ICtzdmcuYXR0cihcIndpZHRoXCIpIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b20sXG4gICAgZyA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuXHR2YXIgeSA9IGQzLnNjYWxlQmFuZCgpXHRcdFx0Ly8geCA9IGQzLnNjYWxlQmFuZCgpXHRcblx0ICAgIC5yYW5nZVJvdW5kKFswLCBoZWlnaHRdKVx0Ly8gLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcblx0ICAgIC5wYWRkaW5nSW5uZXIoMC4wNSlcblx0ICAgIC5hbGlnbigwLjEpO1xuXG5cdHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKVx0XHQvLyB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuXHQgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSk7XHQvLyAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cblx0dmFyIHogPSBkMy5zY2FsZU9yZGluYWwoKVxuXHQgICAgLnJhbmdlKFtcIiM5OGFiYzVcIiwgXCIjOGE4OWE2XCJdKTtcblxuXHR2YXIga2V5cyA9IFtcInRvcGljX2ZyZXF1ZW5jeVwiLFwib3ZlcmFsbFwiXTtcblx0ZGF0YS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGIudG90YWwgLSBhLnRvdGFsOyB9KTtcbiAgICB5LmRvbWFpbihkYXRhLm1hcChmdW5jdGlvbihkKSB7IHJldHVybiBkLlN0YXRlOyB9KSk7XHRcdFx0XHRcdC8vIHguZG9tYWluLi4uXG4gICAgeC5kb21haW4oWzAsIGQzLm1heChkYXRhLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnRvdGFsOyB9KV0pLm5pY2UoKTtcdC8vIHkuZG9tYWluLi4uXG4gICAgei5kb21haW4oa2V5cyk7XG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgLnNlbGVjdEFsbChcImdcIilcbiAgICAuZGF0YShkMy5zdGFjaygpLmtleXMoa2V5cykoZGF0YSkpXG4gICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHooZC5rZXkpOyB9KVxuICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgLmRhdGEoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSlcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLmRhdGEuU3RhdGUpOyB9KVx0ICAgIC8vLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC5kYXRhLlN0YXRlKTsgfSlcbiAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB4KGRbMF0pOyB9KVx0XHRcdCAgICAvLy5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGRbMV0pOyB9KVx0XG4gICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZFsxXSkgLSB4KGRbMF0pOyB9KVx0Ly8uYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IHJldHVybiB5KGRbMF0pIC0geShkWzFdKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHkuYmFuZHdpZHRoKCkpO1x0XHRcdFx0XHRcdCAgICAvLy5hdHRyKFwid2lkdGhcIiwgeC5iYW5kd2lkdGgoKSk7XHRcblxuICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXNcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsMClcIikgXHRcdFx0XHRcdFx0Ly8gIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTtcdFx0XHRcdFx0XHRcdFx0XHQvLyAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpO1xuXG4gIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImF4aXNcIilcblx0ICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiK2hlaWdodCtcIilcIilcdFx0XHRcdC8vIE5ldyBsaW5lXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpLnRpY2tzKG51bGwsIFwic1wiKSlcdFx0XHRcdFx0Ly8gIC5jYWxsKGQzLmF4aXNMZWZ0KHkpLnRpY2tzKG51bGwsIFwic1wiKSlcbiAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDIpXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gICAgIC5hdHRyKFwieVwiLCAyKVxuICAgICAgLmF0dHIoXCJ4XCIsIHgoeC50aWNrcygpLnBvcCgpKSArIDAuNSkgXHRcdFx0XHRcdFx0Ly8gICAgIC5hdHRyKFwieVwiLCB5KHkudGlja3MoKS5wb3AoKSkgKyAwLjUpXG4gICAgICAuYXR0cihcImR5XCIsIFwiMC4zMmVtXCIpXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyAgICAgLmF0dHIoXCJkeVwiLCBcIjAuMzJlbVwiKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzAwMFwiKVxuICAgICAgLmF0dHIoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKVxuICAgICAgLnRleHQoXCJQb3B1bGF0aW9uXCIpXG5cdCAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIrICgtd2lkdGgpICtcIiwtMTApXCIpO1xuXG5cdHZhciBsZWdlbmQgPSBnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJzYW5zLXNlcmlmXCIpXG4gICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLCAxMClcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcbiAgICAuc2VsZWN0QWxsKFwiZ1wiKVxuICAgIC5kYXRhKGtleXMuc2xpY2UoKS5yZXZlcnNlKCkpXG4gICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgIC8vLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoMCxcIiArIGkgKiAyMCArIFwiKVwiOyB9KTtcblx0IC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIFwidHJhbnNsYXRlKC01MCxcIiArICgzMDAgKyBpICogMjApICsgXCIpXCI7IH0pO1xuXG4gIGxlZ2VuZC5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInhcIiwgd2lkdGggLSAxOSlcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgMTkpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCAxOSlcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCB6KTtcblxuICBsZWdlbmQuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLmF0dHIoXCJ4XCIsIHdpZHRoIC0gMjQpXG4gICAgICAuYXR0cihcInlcIiwgOS41KVxuICAgICAgLmF0dHIoXCJkeVwiLCBcIjAuMzJlbVwiKVxuICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSk7XG5cblxuXG59XG5cbmZ1bmN0aW9uIGluaXRQYWdlMigpe1xuXG59XG5cbmZ1bmN0aW9uIGluaXRQYWdlMygpe1xuICAgIGxvYWRQYXJhbGxlbENvb3JkaW5hdGUoKTtcbn0iLCIvL3ZlY3RvcnMgZm9ybWF0OiBNYXBbc3RyaW5nKHRvcGljX2lkKTogTGlzdFtmbG9hdF1dXG5mdW5jdGlvbiBnZXQyRFZlY3RvcnModmVjdG9ycywgc3VjY2Vzc0NhbGxiYWNrKXtcbiAgICB2YXIgcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgIHVybDogXCIvZ2V0MkRWZWN0b3JzXCIsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGRhdGE6IHZlY3RvcnNcbiAgICAgIH0pO1xuICAgICAgIFxuICAgICAgcmVxdWVzdC5kb25lKGZ1bmN0aW9uKCByZXNwb25zZSApIHtcbiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgIH0pO1xuICAgICAgIFxuICAgICAgcmVxdWVzdC5mYWlsKGZ1bmN0aW9uKCBqcVhIUiwgdGV4dFN0YXR1cyApIHtcbiAgICAgICAgYWxlcnQoIFwiUmVxdWVzdCBmYWlsZWQ6IFwiICsgdGV4dFN0YXR1cyApO1xuICAgICAgfSk7XG59XG5cbi8vIGRvY3MgZm9ybWF0OiBMaXN0W0xpc3Rbc3RyaW5nKHdvcmQpXV1cbmZ1bmN0aW9uIGdldFdvcmQyVmVjQ2x1c3RlcnMoZG9jcywgc3VjY2Vzc0NhbGxiYWNrKXtcbiAgICB2YXIgcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgIHVybDogXCIvZ2V0MkRWZWN0b3JzXCIsXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGRhdGE6IHtkb2NzOiBkb2NzfVxuICAgICAgfSk7XG4gICAgICAgXG4gICAgICByZXF1ZXN0LmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgfSk7XG4gICAgICAgXG4gICAgICByZXF1ZXN0LmZhaWwoZnVuY3Rpb24oIGpxWEhSLCB0ZXh0U3RhdHVzICkge1xuICAgICAgICBhbGVydCggXCJSZXF1ZXN0IGZhaWxlZDogXCIgKyB0ZXh0U3RhdHVzICk7XG4gICAgICB9KTtcbn1cblxuIiwiZnVuY3Rpb24gbG9hZFBhcmFsbGVsQ29vcmRpbmF0ZSgpe1xuICAgIHZhciBtYXJnaW4gPSB7dG9wOiAzMCwgcmlnaHQ6IDEwLCBib3R0b206IDEwLCBsZWZ0OiAxMH0sXG4gICAgICAgIHdpZHRoID0gOTYwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgICAgIGhlaWdodCA9IDUwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgdmFyIHggPSBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2VQb2ludHMoWzAsIHdpZHRoXSwgMSksXG4gICAgICAgIHkgPSB7fSxcbiAgICAgICAgZHJhZ2dpbmcgPSB7fTtcblxuICAgIHZhciBsaW5lID0gZDMuc3ZnLmxpbmUoKSxcbiAgICAgICAgYXhpcyA9IGQzLnN2Zy5heGlzKCkub3JpZW50KFwibGVmdFwiKSxcbiAgICAgICAgYmFja2dyb3VuZCxcbiAgICAgICAgZm9yZWdyb3VuZDtcblxuICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcInN2Z1wiKVxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICBkMy5jc3YoXCJjYXJzLmNzdlwiLCBmdW5jdGlvbihlcnJvciwgY2Fycykge1xuXG4gICAgLy8gRXh0cmFjdCB0aGUgbGlzdCBvZiBkaW1lbnNpb25zIGFuZCBjcmVhdGUgYSBzY2FsZSBmb3IgZWFjaC5cbiAgICB4LmRvbWFpbihkaW1lbnNpb25zID0gZDMua2V5cyhjYXJzWzBdKS5maWx0ZXIoZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gZCAhPSBcIm5hbWVcIiAmJiAoeVtkXSA9IGQzLnNjYWxlLmxpbmVhcigpXG4gICAgICAgICAgICAuZG9tYWluKGQzLmV4dGVudChjYXJzLCBmdW5jdGlvbihwKSB7IHJldHVybiArcFtkXTsgfSkpXG4gICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pKTtcbiAgICB9KSk7XG5cbiAgICAvLyBBZGQgZ3JleSBiYWNrZ3JvdW5kIGxpbmVzIGZvciBjb250ZXh0LlxuICAgIGJhY2tncm91bmQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFja2dyb3VuZFwiKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICAuZGF0YShjYXJzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKTtcblxuICAgIC8vIEFkZCBibHVlIGZvcmVncm91bmQgbGluZXMgZm9yIGZvY3VzLlxuICAgIGZvcmVncm91bmQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZm9yZWdyb3VuZFwiKVxuICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICAuZGF0YShjYXJzKVxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoKTtcblxuICAgIC8vIEFkZCBhIGdyb3VwIGVsZW1lbnQgZm9yIGVhY2ggZGltZW5zaW9uLlxuICAgIHZhciBnID0gc3ZnLnNlbGVjdEFsbChcIi5kaW1lbnNpb25cIilcbiAgICAgICAgLmRhdGEoZGltZW5zaW9ucylcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZGltZW5zaW9uXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeChkKSArIFwiKVwiOyB9KVxuICAgICAgICAuY2FsbChkMy5iZWhhdmlvci5kcmFnKClcbiAgICAgICAgICAgIC5vcmlnaW4oZnVuY3Rpb24oZCkgeyByZXR1cm4ge3g6IHgoZCl9OyB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ3N0YXJ0XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGRyYWdnaW5nW2RdID0geChkKTtcbiAgICAgICAgICAgIGJhY2tncm91bmQuYXR0cihcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwiZHJhZ1wiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBkcmFnZ2luZ1tkXSA9IE1hdGgubWluKHdpZHRoLCBNYXRoLm1heCgwLCBkMy5ldmVudC54KSk7XG4gICAgICAgICAgICBmb3JlZ3JvdW5kLmF0dHIoXCJkXCIsIHBhdGgpO1xuICAgICAgICAgICAgZGltZW5zaW9ucy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIHBvc2l0aW9uKGEpIC0gcG9zaXRpb24oYik7IH0pO1xuICAgICAgICAgICAgeC5kb21haW4oZGltZW5zaW9ucyk7XG4gICAgICAgICAgICBnLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBwb3NpdGlvbihkKSArIFwiKVwiOyB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcImRyYWdlbmRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgZGVsZXRlIGRyYWdnaW5nW2RdO1xuICAgICAgICAgICAgdHJhbnNpdGlvbihkMy5zZWxlY3QodGhpcykpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB4KGQpICsgXCIpXCIpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbihmb3JlZ3JvdW5kKS5hdHRyKFwiZFwiLCBwYXRoKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgcGF0aClcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgICAgICAgICAgLmRlbGF5KDUwMClcbiAgICAgICAgICAgICAgICAuZHVyYXRpb24oMClcbiAgICAgICAgICAgICAgICAuYXR0cihcInZpc2liaWxpdHlcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAvLyBBZGQgYW4gYXhpcyBhbmQgdGl0bGUuXG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJheGlzXCIpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHsgZDMuc2VsZWN0KHRoaXMpLmNhbGwoYXhpcy5zY2FsZSh5W2RdKSk7IH0pXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAtOSlcbiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfSk7XG5cbiAgICAvLyBBZGQgYW5kIHN0b3JlIGEgYnJ1c2ggZm9yIGVhY2ggYXhpcy5cbiAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJydXNoXCIpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jYWxsKHlbZF0uYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKS55KHlbZF0pLm9uKFwiYnJ1c2hzdGFydFwiLCBicnVzaHN0YXJ0KS5vbihcImJydXNoXCIsIGJydXNoKSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwieFwiLCAtOClcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCAxNik7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvbihkKSB7XG4gICAgdmFyIHYgPSBkcmFnZ2luZ1tkXTtcbiAgICByZXR1cm4gdiA9PSBudWxsID8geChkKSA6IHY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbihnKSB7XG4gICAgcmV0dXJuIGcudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyB0aGUgcGF0aCBmb3IgYSBnaXZlbiBkYXRhIHBvaW50LlxuICAgIGZ1bmN0aW9uIHBhdGgoZCkge1xuICAgIHJldHVybiBsaW5lKGRpbWVuc2lvbnMubWFwKGZ1bmN0aW9uKHApIHsgcmV0dXJuIFtwb3NpdGlvbihwKSwgeVtwXShkW3BdKV07IH0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBicnVzaHN0YXJ0KCkge1xuICAgIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZXMgYSBicnVzaCBldmVudCwgdG9nZ2xpbmcgdGhlIGRpc3BsYXkgb2YgZm9yZWdyb3VuZCBsaW5lcy5cbiAgICBmdW5jdGlvbiBicnVzaCgpIHtcbiAgICB2YXIgYWN0aXZlcyA9IGRpbWVuc2lvbnMuZmlsdGVyKGZ1bmN0aW9uKHApIHsgcmV0dXJuICF5W3BdLmJydXNoLmVtcHR5KCk7IH0pLFxuICAgICAgICBleHRlbnRzID0gYWN0aXZlcy5tYXAoZnVuY3Rpb24ocCkgeyByZXR1cm4geVtwXS5icnVzaC5leHRlbnQoKTsgfSk7XG4gICAgZm9yZWdyb3VuZC5zdHlsZShcImRpc3BsYXlcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gYWN0aXZlcy5ldmVyeShmdW5jdGlvbihwLCBpKSB7XG4gICAgICAgIHJldHVybiBleHRlbnRzW2ldWzBdIDw9IGRbcF0gJiYgZFtwXSA8PSBleHRlbnRzW2ldWzFdO1xuICAgICAgICB9KSA/IG51bGwgOiBcIm5vbmVcIjtcbiAgICB9KTtcbiAgICB9XG5cbn0iLCJmdW5jdGlvbiBnZW5lcmF0ZVRvcGljVmVjdG9ycygpe1xuICAgIHdpbmRvdy50b3BpY1ZlY3RvcnMgPSB7fTtcbiAgICBpZih3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYyl7XG4gICAgICAgIGZvcih2YXIgeCBpbiB3aW5kb3cudG9waWNfd29yZF9wcm9iYWJpbGl0eV9pbl90b3BpYyl7XG4gICAgICAgICAgICB2YXIgdmVjdG9yID0gW107XG4gICAgICAgICAgICBmb3IodmFyIHkgaW4gd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHlfaW5fdG9waWNbeF0pe1xuICAgICAgICAgICAgICAgIHZlY3Rvci5wdXNoKHdpbmRvdy50b3BpY193b3JkX3Byb2JhYmlsaXR5X2luX3RvcGljW3hdW3ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy50b3BpY1ZlY3RvcnNbeF0gPSB2ZWN0b3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlUGFyYWxsZWxDb29yZGluYXRlRGF0YSgpe1xuICAgIHZhciB3b3JkcyA9IHdpbmRvdy53b3JkX2Rpc3RyaWJ1dGlvbl9pbl9jb3Jwb3JhLmtleXMoKTtcbiAgICB2YXIgdG9waWNfd29yZF90aHJlc2hvbGQgPSAwLjM7XG4gICAgd2luZG93LnRvcGljX3dvcmRfcHJvYmFiaWxpdHkubWFwKHggPT4ge1xuICAgICAgICBcbiAgICB9KTtcbn1cblxuIiwid2luZG93LnZ1ZUFwcCA9IG5ldyBWdWUoe1xuICAgIGVsOiAnI3Z1ZS1hcHAnLFxuICAgIGRhdGE6IHtcbiAgICAgICAgbWVzc2FnZTogJ0hlbGxvIHVzZXIhJyxcbiAgICAgICAgbm9uZVNlbGVjdGVkOiB0cnVlLFxuICAgICAgICBzZWxlY3RlZFBhZ2U6IDEsXG4gICAgICAgIHBsYXllckRldGFpbDoge1xuICAgICAgICAgICAgbmFtZTogXCI8UGxheWVyIE5hbWU+XCJcbiAgICAgICAgfSxcbiAgICAgICAgb3ZlcnZpZXdGaWx0ZXJzOiB7fSxcbiAgICAgICAgc2VsZWN0ZWRNYXA6IDFcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgc2VsZWN0UGFnZTogZnVuY3Rpb24oeCl7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUGFnZSA9IHg7XG4gICAgICAgICAgICBpZiAoeCA9PSAxKXtcbiAgICAgICAgICAgICAgICBpbml0UGFnZTEoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeCA9PSAyKXtcbiAgICAgICAgICAgICAgICBpbml0UGFnZTIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ID09IDMpe1xuICAgICAgICAgICAgICAgIGluaXRQYWdlMygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBtb3VudGVkOiBmdW5jdGlvbigpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1vdW50ZWRcIik7XG4gICAgICAgIGxvYWREMygpO1xuICAgICAgICBsb2FkSnF1ZXJ5KCk7XG4gICAgfVxufSk7Il19
